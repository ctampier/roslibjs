!function i(s,r,o){function a(t,e){if(!r[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=r[t]={exports:{}},s[t][0].call(n.exports,function(e){return a(s[t][1][e]||e)},n,n.exports,i,s,r,o)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(e,t,n){var i,s;i="undefined"!=typeof self?self:this,s=function(){return i={},s.m=n={"./src/augment-websocket.ts":function(e,t,n){"use strict";function i(e,i){e.terminate=function(){var e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const n=new Date,t=this.onclose;this.onclose=e=>{var t=(new Date).getTime()-n.getTime();i(`Discarded socket closed after ${t}ms, with code/reason: ${e.code}/${e.reason}`)},this.close(),t.call(this,{code:4001,reason:"Heartbeat failure, discarding the socket",wasClean:!1})}}n.r(t),n.d(t,"augmentWebsocket",function(){return i})},"./src/byte.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BYTE",function(){return i});const i={LF:"\n",NULL:"\0"}},"./src/client.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Client",function(){return a});var i=n("./src/stomp-handler.ts"),s=n("./src/types.ts"),r=n("./src/versions.ts"),o=function(e,o,a,c){return new(a=a||Promise)(function(n,t){function i(e){try{r(c.next(e))}catch(e){t(e)}}function s(e){try{r(c.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(i,s)}r((c=c.apply(e,o||[])).next())})};class a{constructor(e={}){this.stompVersions=r.Versions.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.state=s.ActivationState.INACTIVE;var t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?this._stompHandler._webSocket:void 0}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===s.ActivationState.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){if(this.state===s.ActivationState.DEACTIVATING)throw this.debug("Still DEACTIVATING, please await call to deactivate before trying to re-activate"),new Error("Still DEACTIVATING, can not activate now");this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(s.ActivationState.ACTIVE),this._connect())}_connect(){return o(this,void 0,void 0,function*(){var e;this.connected?this.debug("STOMP: already connected, nothing to do"):(yield this.beforeConnect(),this.active?(0<this.connectionTimeout&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket..."),e=this._createWebSocket(),this._stompHandler=new i.StompHandler(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:e=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active)return this.debug("STOMP got connected while deactivate was issued, will disconnect now"),void this._disposeStompHandler();this.onConnect(e)},onDisconnect:e=>{this.onDisconnect(e)},onStompError:e=>{this.onStompError(e)},onWebSocketClose:e=>{this._stompHandler=void 0,this.state===s.ActivationState.DEACTIVATING&&(this._resolveSocketClose(),this._resolveSocketClose=void 0,this._changeState(s.ActivationState.INACTIVE)),this.onWebSocketClose(e),this.active&&this._schedule_reconnect()},onWebSocketError:e=>{this.onWebSocketError(e)},onUnhandledMessage:e=>{this.onUnhandledMessage(e)},onUnhandledReceipt:e=>{this.onUnhandledReceipt(e)},onUnhandledFrame:e=>{this.onUnhandledFrame(e)}}),this._stompHandler.start()):this.debug("Client has been marked inactive, will not attempt to connect"))})}_createWebSocket(){let e;return e=this.webSocketFactory?this.webSocketFactory():new WebSocket(this.brokerURL,this.stompVersions.protocolVersions()),e.binaryType="arraybuffer",e}_schedule_reconnect(){0<this.reconnectDelay&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return o(this,void 0,void 0,function*(){let e;return this.state!==s.ActivationState.ACTIVE?(this.debug(`Already ${s.ActivationState[this.state]}, ignoring call to deactivate`),Promise.resolve()):(this._changeState(s.ActivationState.DEACTIVATING),this._reconnector&&clearTimeout(this._reconnector),this._stompHandler&&this.webSocket.readyState!==s.StompSocketState.CLOSED?(e=new Promise((e,t)=>{this._resolveSocketClose=e}),this._disposeStompHandler(),e):(this._changeState(s.ActivationState.INACTIVE),Promise.resolve()))})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&(this._stompHandler.dispose(),this._stompHandler=null)}publish(e){this._stompHandler.publish(e)}watchForReceipt(e,t){this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._stompHandler.unsubscribe(e,t)}begin(e){return this._stompHandler.begin(e)}commit(e){this._stompHandler.commit(e)}abort(e){this._stompHandler.abort(e)}ack(e,t,n={}){this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._stompHandler.nack(e,t,n)}}},"./src/compatibility/compat-client.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CompatClient",function(){return s});var t=n("./src/client.ts"),i=n("./src/compatibility/heartbeat-info.ts");class s extends t.Client{constructor(e){super(),this.maxWebSocketFrameSize=16384,this._heartbeatInfo=new i.HeartbeatInfo(this),this.reconnect_delay=0,this.webSocketFactory=e,this.debug=(...e)=>{console.log(...e)}}_parseConnect(...e){let t,n,i,s={};if(e.length<2)throw new Error("Connect requires at least 2 arguments");return"function"==typeof e[1]?[s,n,i,t]=e:6===e.length?[s.login,s.passcode,n,i,t,s.host]=e:[s.login,s.passcode,n,i,t]=e,[s,n,i,t]}connect(...e){e=this._parseConnect(...e);e[0]&&(this.connectHeaders=e[0]),e[1]&&(this.onConnect=e[1]),e[2]&&(this.onStompError=e[2]),e[3]&&(this.onWebSocketClose=e[3]),super.activate()}disconnect(e,t={}){e&&(this.onDisconnect=e),this.disconnectHeaders=t,super.deactivate()}send(e,t={},n=""){var i=!1===(t=Object.assign({},t))["content-length"];i&&delete t["content-length"],this.publish({destination:e,headers:t,body:n,skipContentLengthHeader:i})}set reconnect_delay(e){this.reconnectDelay=e}get ws(){return this.webSocket}get version(){return this.connectedVersion}get onreceive(){return this.onUnhandledMessage}set onreceive(e){this.onUnhandledMessage=e}get onreceipt(){return this.onUnhandledReceipt}set onreceipt(e){this.onUnhandledReceipt=e}get heartbeat(){return this._heartbeatInfo}set heartbeat(e){this.heartbeatIncoming=e.incoming,this.heartbeatOutgoing=e.outgoing}}},"./src/compatibility/heartbeat-info.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"HeartbeatInfo",function(){return i});class i{constructor(e){this.client=e}get outgoing(){return this.client.heartbeatOutgoing}set outgoing(e){this.client.heartbeatOutgoing=e}get incoming(){return this.client.heartbeatIncoming}set incoming(e){this.client.heartbeatIncoming=e}}},"./src/compatibility/stomp.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Stomp",function(){return r});var i=n("./src/versions.ts"),s=n("./src/compatibility/compat-client.ts");class r{static client(t,n){null==n&&(n=i.Versions.default.protocolVersions());return new s.CompatClient(()=>{const e=r.WebSocketClass||WebSocket;return new e(t,n)})}static over(e){let t;return t="function"==typeof e?e:(console.warn("Stomp.over did not receive a factory, auto reconnect will not work. Please see https://stomp-js.github.io/api-docs/latest/classes/Stomp.html#over"),()=>e),new s.CompatClient(t)}}r.WebSocketClass=null},"./src/frame-impl.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"FrameImpl",function(){return a});var i=n("./src/byte.ts");class a{constructor(e){var{command:t,headers:n,body:i,binaryBody:s,escapeHeaderValues:r,skipContentLengthHeader:e}=e;this.command=t,this.headers=Object.assign({},n||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=i||"",this.isBinaryBody=!1),this.escapeHeaderValues=r||!1,this.skipContentLengthHeader=e||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body}get binaryBody(){return this._binaryBody||this.isBinaryBody||(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,n){const i={};var s=e=>e.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");var r=s(o[0]);let e=s(o[1]);n&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(e=a.hdrValueUnEscape(e)),i[r]=e}return new a({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:n})}toString(){return this.serializeCmdAndHeaders()}serialize(){var e=this.serializeCmdAndHeaders();return this.isBinaryBody?a.toUnit8Array(e,this._binaryBody).buffer:e+this._body+i.BYTE.NULL}serializeCmdAndHeaders(){const e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const n of Object.keys(this.headers||{})){var t=this.headers[n];this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?e.push(`${n}:${a.hdrValueEscape(`${t}`)}`):e.push(`${n}:${t}`)}return!this.isBinaryBody&&(this.isBodyEmpty()||this.skipContentLengthHeader)||e.push(`content-length:${this.bodyLength()}`),e.join(i.BYTE.LF)+i.BYTE.LF+i.BYTE.LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){var e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?(new TextEncoder).encode(e).length:0}static toUnit8Array(e,t){var n=(new TextEncoder).encode(e),e=new Uint8Array([0]);const i=new Uint8Array(n.length+t.length+e.length);return i.set(n),i.set(t,n.length),i.set(e,n.length+t.length),i}static marshall(e){const t=new a(e);return t.serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}},"./src/index.ts":function(e,t,n){"use strict";n.r(t);var i=n("./src/client.ts");n.d(t,"Client",function(){return i.Client});var s=n("./src/frame-impl.ts");n.d(t,"FrameImpl",function(){return s.FrameImpl});var r=n("./src/parser.ts");n.d(t,"Parser",function(){return r.Parser});var o=n("./src/stomp-config.ts");n.d(t,"StompConfig",function(){return o.StompConfig});var a=n("./src/stomp-headers.ts");n.d(t,"StompHeaders",function(){return a.StompHeaders});var c=n("./src/stomp-subscription.ts");n.d(t,"StompSubscription",function(){return c.StompSubscription});var u=n("./src/types.ts");n.d(t,"StompSocketState",function(){return u.StompSocketState}),n.d(t,"ActivationState",function(){return u.ActivationState});var l=n("./src/versions.ts");n.d(t,"Versions",function(){return l.Versions});var h=n("./src/compatibility/compat-client.ts");n.d(t,"CompatClient",function(){return h.CompatClient});var f=n("./src/compatibility/stomp.ts");n.d(t,"Stomp",function(){return f.Stomp})},"./src/parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Parser",function(){return i});class i{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(n=e instanceof ArrayBuffer?new Uint8Array(e):this._encoder.encode(e),t&&0!==n[n.length-1]){const s=new Uint8Array(n.length+1);s.set(n,0),s[n.length]=0,n=s}for(let e=0;e<n.length;e++){var i=n[e];this._onByte(i)}}_collectFrame(e){0!==e&&13!==e&&(10!==e?(this._onByte=this._collectCommand,this._reinjectByte(e)):this.onIncomingPing())}_collectCommand(e){if(13!==e)return 10===e?(this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_collectHeaders(e){13!==e&&(10!==e?(this._onByte=this._collectHeaderKey,this._reinjectByte(e)):this._setupCollectBody())}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(58===e)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(e)}_collectHeaderValue(e){if(13!==e)return 10===e?(this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders)):void this._consumeByte(e)}_setupCollectBody(){var e=this._results.headers.filter(e=>"content-length"===e[0])[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){0!==e?this._consumeByte(e):this._retrievedBody()}_collectBodyFixedSize(e){0!=this._bodyBytesRemaining--?this._consumeByte(e):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw(),this.onFrame(this._results),this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){var e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}},"./src/stomp-config.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StompConfig",function(){return i});class i{}},"./src/stomp-handler.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StompHandler",function(){return u});var i=n("./src/byte.ts"),c=n("./src/frame-impl.ts"),s=n("./src/parser.ts"),r=n("./src/types.ts"),o=n("./src/versions.ts"),a=n("./src/augment-websocket.ts");class u{constructor(e,t,n={}){this._client=e,this._webSocket=t,this._serverFrameHandlers={CONNECTED:e=>{this.debug(`connected to server ${e.headers.server}`),this._connected=!0,this._connectedVersion=e.headers.version,this._connectedVersion===o.Versions.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(e.headers),this.onConnect(e)},MESSAGE:e=>{const t=e.headers.subscription,n=this._subscriptions[t]||this.onUnhandledMessage,i=e,s=this,r=this._connectedVersion===o.Versions.V1_2?i.headers.ack:i.headers["message-id"];i.ack=(e={})=>s.ack(r,t,e),i.nack=(e={})=>s.nack(r,t,e),n(i)},RECEIPT:e=>{const t=this._receiptWatchers[e.headers["receipt-id"]];t?(t(e),delete this._receiptWatchers[e.headers["receipt-id"]]):this.onUnhandledReceipt(e)},ERROR:e=>{this.onStompError(e)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.configure(n)}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}configure(e){Object.assign(this,e)}start(){const n=new s.Parser(e=>{e=c.FrameImpl.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${e}`);const t=this._serverFrameHandlers[e.command]||this.onUnhandledFrame;t(e)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{var t;this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication&&(t=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data,this.debug(`<<< ${t}`)),n.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._onclose=e=>{this.debug(`Connection closed to ${this._client.brokerURL}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onclose=this._onclose,this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(e){if((e.version===o.Versions.V1_1||e.version===o.Versions.V1_2)&&e["heart-beat"]){var[t,e]=e["heart-beat"].split(",").map(e=>parseInt(e,10));if(0!==this.heartbeatOutgoing&&0!==e&&(e=Math.max(this.heartbeatOutgoing,e),this.debug(`send PING every ${e}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===r.StompSocketState.OPEN&&(this._webSocket.send(i.BYTE.LF),this.debug(">>> PING"))},e)),0!==this.heartbeatIncoming&&0!==t){const n=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${n}ms`),this._ponger=setInterval(()=>{var e=Date.now()-this._lastServerActivityTS;e>2*n&&(this.debug(`did not receive server activity for the last ${e}ms`),this._closeOrDiscardWebsocket())},n)}}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this._discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState!==r.StompSocketState.CONNECTING&&this._webSocket.readyState!==r.StompSocketState.OPEN||this._closeOrDiscardWebsocket())}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}_discardWebsocket(){this._webSocket.terminate||Object(a.augmentWebsocket)(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){var{command:t,headers:n,body:i,binaryBody:s,skipContentLengthHeader:e}=e;const r=new c.FrameImpl({command:t,headers:n,body:i,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:e});let o=r.serialize();if(this.logRawCommunication?this.debug(`>>> ${o}`):this.debug(`>>> ${r}`),this.forceBinaryWSFrames&&"string"==typeof o&&(o=(new TextEncoder).encode(o)),"string"==typeof o&&this.splitLargeFrames){let e=o;for(;0<e.length;){var a=e.substring(0,this.maxWebSocketChunkSize);e=e.substring(this.maxWebSocketChunkSize),this._webSocket.send(a),this.debug(`chunk sent = ${a.length}, remaining = ${e.length}`)}}else this._webSocket.send(o)}dispose(){if(this.connected)try{const e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else this._webSocket.readyState!==r.StompSocketState.CONNECTING&&this._webSocket.readyState!==r.StompSocketState.OPEN||this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&clearInterval(this._pinger),this._ponger&&clearInterval(this._ponger)}publish(e){var{destination:t,headers:n,body:i,binaryBody:s,skipContentLengthHeader:e}=e,n=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:n,body:i,binaryBody:s,skipContentLengthHeader:e})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){(n=Object.assign({},n)).id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});const i=this;return{id:n.id,unsubscribe(e){return i.unsubscribe(n.id,e)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){const t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});const n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===o.Versions.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===o.Versions.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}}},"./src/stomp-headers.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StompHeaders",function(){return i});class i{}},"./src/stomp-subscription.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"StompSubscription",function(){return i});class i{}},"./src/types.ts":function(e,t,n){"use strict";var i,s;n.r(t),n.d(t,"StompSocketState",function(){return i}),n.d(t,"ActivationState",function(){return s}),(t=i=i||{})[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED",(t=s=s||{})[t.ACTIVE=0]="ACTIVE",t[t.DEACTIVATING=1]="DEACTIVATING",t[t.INACTIVE=2]="INACTIVE"},"./src/versions.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Versions",function(){return i});class i{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}}i.V1_0="1.0",i.V1_1="1.1",i.V1_2="1.2",i.default=new i([i.V1_0,i.V1_1,i.V1_2])},0:function(e,t,n){e.exports=n("./src/index.ts")}},s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0);function s(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}var n,i},"object"==typeof n&&"object"==typeof t?t.exports=s():"function"==typeof define&&define.amd?define("StompJs",[],s):"object"==typeof n?n.StompJs=s():i.StompJs=s()},{}],2:[function(e,t,n){t.exports=e("./lib/axios")},{"./lib/axios":4}],3:[function(e,t,n){"use strict";var f=e("./../utils"),p=e("./../core/settle"),d=e("./../helpers/cookies"),m=e("./../helpers/buildURL"),y=e("../core/buildFullPath"),v=e("./../helpers/parseHeaders"),g=e("./../helpers/isURLSameOrigin"),b=e("../core/createError"),_=e("../defaults"),w=e("../cancel/Cancel");t.exports=function(h){return new Promise(function(t,n){var e,i=h.data,s=h.headers,r=h.responseType;function o(){h.cancelToken&&h.cancelToken.unsubscribe(e),h.signal&&h.signal.removeEventListener("abort",e)}f.isFormData(i)&&delete s["Content-Type"];var a,c=new XMLHttpRequest;h.auth&&(a=h.auth.username||"",u=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"",s.Authorization="Basic "+btoa(a+":"+u));var u=y(h.baseURL,h.url);function l(){var e;c&&(e="getAllResponseHeaders"in c?v(c.getAllResponseHeaders()):null,e={data:r&&"text"!==r&&"json"!==r?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:e,config:h,request:c},p(function(e){t(e),o()},function(e){n(e),o()},e),c=null)}c.open(h.method.toUpperCase(),m(u,h.params,h.paramsSerializer),!0),c.timeout=h.timeout,"onloadend"in c?c.onloadend=l:c.onreadystatechange=function(){c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))&&setTimeout(l)},c.onabort=function(){c&&(n(b("Request aborted",h,"ECONNABORTED",c)),c=null)},c.onerror=function(){n(b("Network Error",h,null,c)),c=null},c.ontimeout=function(){var e=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",t=h.transitional||_.transitional;h.timeoutErrorMessage&&(e=h.timeoutErrorMessage),n(b(e,h,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",c)),c=null},!f.isStandardBrowserEnv()||(u=(h.withCredentials||g(u))&&h.xsrfCookieName?d.read(h.xsrfCookieName):void 0)&&(s[h.xsrfHeaderName]=u),"setRequestHeader"in c&&f.forEach(s,function(e,t){void 0===i&&"content-type"===t.toLowerCase()?delete s[t]:c.setRequestHeader(t,e)}),f.isUndefined(h.withCredentials)||(c.withCredentials=!!h.withCredentials),r&&"json"!==r&&(c.responseType=h.responseType),"function"==typeof h.onDownloadProgress&&c.addEventListener("progress",h.onDownloadProgress),"function"==typeof h.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(e=function(e){c&&(n(!e||e&&e.type?new w("canceled"):e),c.abort(),c=null)},h.cancelToken&&h.cancelToken.subscribe(e),h.signal&&(h.signal.aborted?e():h.signal.addEventListener("abort",e))),c.send(i=i||null)})}},{"../cancel/Cancel":5,"../core/buildFullPath":10,"../core/createError":11,"../defaults":17,"./../core/settle":15,"./../helpers/buildURL":20,"./../helpers/cookies":22,"./../helpers/isURLSameOrigin":25,"./../helpers/parseHeaders":27,"./../utils":30}],4:[function(e,t,n){"use strict";var s=e("./utils"),r=e("./helpers/bind"),o=e("./core/Axios"),a=e("./core/mergeConfig");var i=function t(n){var e=new o(n),i=r(o.prototype.request,e);return s.extend(i,o.prototype,e),s.extend(i,e),i.create=function(e){return t(a(n,e))},i}(e("./defaults"));i.Axios=o,i.Cancel=e("./cancel/Cancel"),i.CancelToken=e("./cancel/CancelToken"),i.isCancel=e("./cancel/isCancel"),i.VERSION=e("./env/data").version,i.all=function(e){return Promise.all(e)},i.spread=e("./helpers/spread"),i.isAxiosError=e("./helpers/isAxiosError"),t.exports=i,t.exports.default=i},{"./cancel/Cancel":5,"./cancel/CancelToken":6,"./cancel/isCancel":7,"./core/Axios":8,"./core/mergeConfig":14,"./defaults":17,"./env/data":18,"./helpers/bind":19,"./helpers/isAxiosError":24,"./helpers/spread":28,"./utils":30}],5:[function(e,t,n){"use strict";function i(e){this.message=e}i.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},i.prototype.__CANCEL__=!0,t.exports=i},{}],6:[function(e,t,n){"use strict";var s=e("./Cancel");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;this.promise.then(function(e){if(i._listeners){for(var t=i._listeners.length,n=0;n<t;n++)i._listeners[n](e);i._listeners=null}}),this.promise.then=function(e){var t,e=new Promise(function(e){i.subscribe(e),t=e}).then(e);return e.cancel=function(){i.unsubscribe(t)},e},e(function(e){i.reason||(i.reason=new s(e),t(i.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){!this._listeners||-1!==(e=this._listeners.indexOf(e))&&this._listeners.splice(e,1)},i.source=function(){var t;return{token:new i(function(e){t=e}),cancel:t}},t.exports=i},{"./Cancel":5}],7:[function(e,t,n){"use strict";t.exports=function(e){return!(!e||!e.__CANCEL__)}},{}],8:[function(e,t,n){"use strict";var i=e("./../utils"),s=e("../helpers/buildURL"),r=e("./InterceptorManager"),l=e("./dispatchRequest"),h=e("./mergeConfig"),f=e("../helpers/validator"),p=f.validators;function o(e){this.defaults=e,this.interceptors={request:new r,response:new r}}o.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=h(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";e=t.transitional;void 0!==e&&f.assertOptions(e,{silentJSONParsing:p.transitional(p.boolean),forcedJSONParsing:p.transitional(p.boolean),clarifyTimeoutError:p.transitional(p.boolean)},!1);var n=[],i=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,n.unshift(e.fulfilled,e.rejected))});var s,r=[];if(this.interceptors.response.forEach(function(e){r.push(e.fulfilled,e.rejected)}),!i){var o=[l,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(r),s=Promise.resolve(t);o.length;)s=s.then(o.shift(),o.shift());return s}for(var a=t;n.length;){var c=n.shift(),u=n.shift();try{a=c(a)}catch(e){u(e);break}}try{s=l(a)}catch(e){return Promise.reject(e)}for(;r.length;)s=s.then(r.shift(),r.shift());return s},o.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=h(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],function(n){o.prototype[n]=function(e,t){return this.request(h(t||{},{method:n,url:e,data:(t||{}).data}))}}),i.forEach(["post","put","patch"],function(i){o.prototype[i]=function(e,t,n){return this.request(h(n||{},{method:i,url:e,data:t}))}}),t.exports=o},{"../helpers/buildURL":20,"../helpers/validator":29,"./../utils":30,"./InterceptorManager":9,"./dispatchRequest":12,"./mergeConfig":14}],9:[function(e,t,n){"use strict";var i=e("./../utils");function s(){this.handlers=[]}s.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=s},{"./../utils":30}],10:[function(e,t,n){"use strict";var i=e("../helpers/isAbsoluteURL"),s=e("../helpers/combineURLs");t.exports=function(e,t){return e&&!i(t)?s(e,t):t}},{"../helpers/combineURLs":21,"../helpers/isAbsoluteURL":23}],11:[function(e,t,n){"use strict";var r=e("./enhanceError");t.exports=function(e,t,n,i,s){e=new Error(e);return r(e,t,n,i,s)}},{"./enhanceError":13}],12:[function(e,t,n){"use strict";var i=e("./../utils"),s=e("./transformData"),r=e("../cancel/isCancel"),o=e("../defaults"),a=e("../cancel/Cancel");function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=s.call(t,t.data,t.headers,t.transformRequest),t.headers=i.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),i.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||o.adapter)(t).then(function(e){return c(t),e.data=s.call(t,e.data,e.headers,t.transformResponse),e},function(e){return r(e)||(c(t),e&&e.response&&(e.response.data=s.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},{"../cancel/Cancel":5,"../cancel/isCancel":7,"../defaults":17,"./../utils":30,"./transformData":16}],13:[function(e,t,n){"use strict";t.exports=function(e,t,n,i,s){return e.config=t,n&&(e.code=n),e.request=i,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},{}],14:[function(e,t,n){"use strict";var u=e("../utils");t.exports=function(t,n){n=n||{};var i={};function s(e,t){return u.isPlainObject(e)&&u.isPlainObject(t)?u.merge(e,t):u.isPlainObject(t)?u.merge({},t):u.isArray(t)?t.slice():t}function r(e){return u.isUndefined(n[e])?u.isUndefined(t[e])?void 0:s(void 0,t[e]):s(t[e],n[e])}function e(e){if(!u.isUndefined(n[e]))return s(void 0,n[e])}function o(e){return u.isUndefined(n[e])?u.isUndefined(t[e])?void 0:s(void 0,t[e]):s(void 0,n[e])}function a(e){return e in n?s(t[e],n[e]):e in t?s(void 0,t[e]):void 0}var c={url:e,method:e,data:e,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return u.forEach(Object.keys(t).concat(Object.keys(n)),function(e){var t=c[e]||r,n=t(e);u.isUndefined(n)&&t!==a||(i[e]=n)}),i}},{"../utils":30}],15:[function(e,t,n){"use strict";var s=e("./createError");t.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(s("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},{"./createError":11}],16:[function(e,t,n){"use strict";var s=e("./../utils"),r=e("./../defaults");t.exports=function(t,n,e){var i=this||r;return s.forEach(e,function(e){t=e.call(i,t,n)}),t}},{"./../defaults":17,"./../utils":30}],17:[function(c,u,e){!function(a){!function(){"use strict";var i=c("./utils"),n=c("./helpers/normalizeHeaderName"),s=c("./core/enhanceError"),t={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var e,o={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?e=c("./adapters/xhr"):void 0!==a&&"[object process]"===Object.prototype.toString.call(a)&&(e=c("./adapters/http")),e),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(r(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(t||JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||o.transitional,n=t&&t.silentJSONParsing,t=t&&t.forcedJSONParsing,n=!n&&"json"===this.responseType;if(n||t&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return 200<=e&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],function(e){o.headers[e]={}}),i.forEach(["post","put","patch"],function(e){o.headers[e]=i.merge(t)}),u.exports=o}.call(this)}.call(this,c("_process"))},{"./adapters/http":3,"./adapters/xhr":3,"./core/enhanceError":13,"./helpers/normalizeHeaderName":26,"./utils":30,_process:37}],18:[function(e,t,n){t.exports={version:"0.25.0"}},{}],19:[function(e,t,n){"use strict";t.exports=function(n,i){return function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];return n.apply(i,e)}}},{}],20:[function(e,t,n){"use strict";var s=e("./../utils");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(e,t,n){if(!t)return e;var i,n=n?n(t):s.isURLSearchParams(t)?t.toString():(i=[],s.forEach(t,function(e,t){null!=e&&(s.isArray(e)?t+="[]":e=[e],s.forEach(e,function(e){s.isDate(e)?e=e.toISOString():s.isObject(e)&&(e=JSON.stringify(e)),i.push(r(t)+"="+r(e))}))}),i.join("&"));return n&&(-1!==(t=e.indexOf("#"))&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n),e}},{"./../utils":30}],21:[function(e,t,n){"use strict";t.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},{}],22:[function(e,t,n){"use strict";var a=e("./../utils");t.exports=a.isStandardBrowserEnv()?{write:function(e,t,n,i,s,r){var o=[];o.push(e+"="+encodeURIComponent(t)),a.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),a.isString(i)&&o.push("path="+i),a.isString(s)&&o.push("domain="+s),!0===r&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){e=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},{"./../utils":30}],23:[function(e,t,n){"use strict";t.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},{}],24:[function(e,t,n){"use strict";var i=e("./../utils");t.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},{"./../utils":30}],25:[function(e,t,n){"use strict";var i,s,r,o=e("./../utils");function a(e){return s&&(r.setAttribute("href",e),e=r.href),r.setAttribute("href",e),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}t.exports=o.isStandardBrowserEnv()?(s=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i=a(window.location.href),function(e){e=o.isString(e)?a(e):e;return e.protocol===i.protocol&&e.host===i.host}):function(){return!0}},{"./../utils":30}],26:[function(e,t,n){"use strict";var s=e("../utils");t.exports=function(n,i){s.forEach(n,function(e,t){t!==i&&t.toUpperCase()===i.toUpperCase()&&(n[i]=e,delete n[t])})}},{"../utils":30}],27:[function(e,t,n){"use strict";var s=e("./../utils"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(e){var t,n,i={};return e&&s.forEach(e.split("\n"),function(e){n=e.indexOf(":"),t=s.trim(e.substr(0,n)).toLowerCase(),n=s.trim(e.substr(n+1)),t&&(i[t]&&0<=r.indexOf(t)||(i[t]="set-cookie"===t?(i[t]||[]).concat([n]):i[t]?i[t]+", "+n:n))}),i}},{"./../utils":30}],28:[function(e,t,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},{}],29:[function(e,t,n){"use strict";var o=e("../env/data").version,i={};["object","boolean","number","function","string","symbol"].forEach(function(t,n){i[t]=function(e){return typeof e===t||"a"+(n<1?"n ":" ")+t}});var a={};i.transitional=function(i,s,n){function r(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(e,t,n){if(!1===i)throw new Error(r(t," has been removed"+(s?" in "+s:"")));return s&&!a[t]&&(a[t]=!0,console.warn(r(t," has been deprecated since v"+s+" and will be removed in the near future"))),!i||i(e,t,n)}},t.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),s=i.length;0<s--;){var r=i[s],o=t[r];if(o){var a=e[r],a=void 0===a||o(a,r,e);if(!0!==a)throw new TypeError("option "+r+" must be "+a)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:i}},{"../env/data":18}],30:[function(e,t,n){"use strict";var s=e("./helpers/bind"),i=Object.prototype.toString;function r(e){return Array.isArray(e)}function o(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===i.call(e)}function c(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;e=Object.getPrototypeOf(e);return null===e||e===Object.prototype}function l(e){return"[object Function]"===i.call(e)}function h(e,t){if(null!=e)if(r(e="object"!=typeof e?[e]:e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}t.exports={isArray:r,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:l,isStream:function(e){return c(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function n(){var i={};function e(e,t){u(i[t])&&u(e)?i[t]=n(i[t],e):u(e)?i[t]=n({},e):r(e)?i[t]=e.slice():i[t]=e}for(var t=0,s=arguments.length;t<s;t++)h(arguments[t],e);return i},extend:function(n,e,i){return h(e,function(e,t){n[t]=i&&"function"==typeof e?s(e,i):e}),n},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return e=65279===e.charCodeAt(0)?e.slice(1):e}}},{"./helpers/bind":19}],31:[function(e,h,f){!function(c){!function(){!function(e){var t="object"==typeof f&&f,n="object"==typeof h&&h&&h.exports==t&&h,i="object"==typeof c&&c;i.global!==i&&i.window!==i||(e=i);function s(e){this.message=e}(s.prototype=new Error).name="InvalidCharacterError";function u(e){throw new s(e)}var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=/[\t\n\f\r ]/g,r={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,i,s,r=e.length%3,o="",a=-1,c=e.length-r;++a<c;)t=e.charCodeAt(a)<<16,n=e.charCodeAt(++a)<<8,i=e.charCodeAt(++a),o+=l.charAt((s=t+n+i)>>18&63)+l.charAt(s>>12&63)+l.charAt(s>>6&63)+l.charAt(63&s);return 2==r?(t=e.charCodeAt(a)<<8,n=e.charCodeAt(++a),o+=l.charAt((s=t+n)>>10)+l.charAt(s>>4&63)+l.charAt(s<<2&63)+"="):1==r&&(s=e.charCodeAt(a),o+=l.charAt(s>>2)+l.charAt(s<<4&63)+"=="),o},decode:function(e){var t=(e=String(e).replace(a,"")).length;(t=t%4==0?(e=e.replace(/==?$/,"")).length:t)%4!=1&&!/[^+a-zA-Z0-9/]/.test(e)||u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,i,s=0,r="",o=-1;++o<t;)i=l.indexOf(e.charAt(o)),n=s%4?64*n+i:i,s++%4&&(r+=String.fromCharCode(255&n>>(-2*s&6)));return r},version:"1.0.0"};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return r});else if(t&&!t.nodeType)if(n)n.exports=r;else for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);else e.base64=r}(this)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(e,n,t){!function(e,x){"use strict";var k=Math.pow(2,-24),s=Math.pow(2,32),m=Math.pow(2,53);var t={encode:function(e){var o,a=new ArrayBuffer(256),c=new DataView(a),u=0;function l(e){for(var t=a.byteLength,n=u+e;t<n;)t*=2;if(t!==a.byteLength){var i=c;a=new ArrayBuffer(t),c=new DataView(a);for(var s=u+3>>2,r=0;r<s;++r)c.setUint32(4*r,i.getUint32(4*r))}return o=e,c}function h(){u+=o}function f(e){h(l(1).setUint8(u,e))}function p(e){for(var t=l(e.length),n=0;n<e.length;++n)t.setUint8(u+n,e[n]);h()}function d(e,t){var n,i;t<24?f(e<<5|t):t<256?(f(e<<5|24),f(t)):t<65536?(f(e<<5|25),i=t,h(l(2).setUint16(u,i))):t<4294967296?(f(e<<5|26),n=t,h(l(4).setUint32(u,n))):(f(e<<5|27),t=((n=t)-(e=n%s))/s,(n=l(8)).setUint32(u,t),n.setUint32(u+4,e),h())}if(!function e(t){var n;if(!1===t)return f(244),0;if(!0===t)return f(245),0;if(null===t)return f(246),0;if(t===x)return f(247),0;switch(typeof t){case"number":if(Math.floor(t)===t){if(0<=t&&t<=m)return d(0,t),0;if(-m<=t&&t<0)return d(1,-(t+1)),0}return f(251),n=t,h(l(8).setFloat64(u,n)),0;case"string":for(var i=[],s=0;s<t.length;++s){var r=t.charCodeAt(s);r<128?i.push(r):(r<2048?i.push(192|r>>6):(r<55296?i.push(224|r>>12):(r=(1023&r)<<10,r|=1023&t.charCodeAt(++s),r+=65536,i.push(240|r>>18),i.push(128|r>>12&63)),i.push(128|r>>6&63)),i.push(128|63&r))}return d(3,i.length),p(i),0;default:if(Array.isArray(t))for(d(4,o=t.length),s=0;s<o;++s)e(t[s]);else if(t instanceof Uint8Array)d(2,t.length),p(t);else{var o,a=Object.keys(t);for(d(5,o=a.length),s=0;s<o;++s){var c=a[s];e(c),e(t[c])}}}}(e),"slice"in a)return a.slice(0,u);for(var e=new ArrayBuffer(u),t=new DataView(e),n=0;n<u;++n)t.setUint8(n,c.getUint8(n));return e},decode:function(t,f,p){var d=new DataView(t),m=0;function y(e,t){return m+=t,e}function v(e){return y(new Uint8Array(t,m,e),e)}function g(){return y(d.getUint8(m),1)}function b(){return y(d.getUint16(m),2)}function n(){return y(d.getUint32(m),4)}function _(){return 255===d.getUint8(m)&&(m+=1,1)}function w(e){if(e<24)return e;if(24===e)return g();if(25===e)return b();if(26===e)return n();if(27===e)return n()*s+n();if(31===e)return-1;throw"Invalid length encoding"}function S(e){var t=g();if(255===t)return-1;var n=w(31&t);if(n<0||t>>5!==e)throw"Invalid indefinite length element";return n}function T(e,t){for(var n=0;n<t;++n){var i=g();128&i&&(i<224?(i=(31&i)<<6|63&g(),--t):i<240?(i=(15&i)<<12|(63&g())<<6|63&g(),t-=2):(i=(15&i)<<18|(63&g())<<12|(63&g())<<6|63&g(),t-=3)),i<65536?e.push(i):(i-=65536,e.push(55296|i>>10),e.push(56320|1023&i))}}"function"!=typeof f&&(f=function(e){return e}),"function"!=typeof p&&(p=function(){return x});var e=function e(){var t,n,i=g(),s=i>>5,i=31&i;if(7==s)switch(i){case 25:return function(){var e=new ArrayBuffer(4),t=new DataView(e),n=b(),i=31744&n,e=1023&n;if(31744===i)i=261120;else if(0!==i)i+=114688;else if(0!=e)return e*k;return t.setUint32(0,(32768&n)<<16|i<<13|e<<13),t.getFloat32(0)}();case 26:return y(d.getFloat32(m),4);case 27:return y(d.getFloat64(m),8)}if((t=w(i))<0&&(s<2||6<s))throw"Invalid length";switch(s){case 0:return t;case 1:return-1-t;case 2:if(t<0){for(var r=[],o=0;0<=(t=S(s));)o+=t,r.push(v(t));for(var a=new Uint8Array(o),c=0,u=0;u<r.length;++u)a.set(r[u],c),c+=r[u].length;return a}return v(t);case 3:var l=[];if(t<0)for(;0<=(t=S(s));)T(l,t);else T(l,t);return String.fromCharCode.apply(null,l);case 4:if(t<0)for(n=[];!_();)n.push(e());else for(n=new Array(t),u=0;u<t;++u)n[u]=e();return n;case 5:var h={};for(u=0;u<t||t<0&&!_();++u)h[e()]=e();return h;case 6:return f(e(),t);case 7:switch(t){case 20:return!1;case 21:return!0;case 22:return null;case 23:return x;default:return p(t)}}}();if(m!==t.byteLength)throw"Remaining bytes";return e}};"function"==typeof define&&define.amd?define("cbor/cbor",t):void 0!==n&&n.exports?n.exports=t:e.CBOR||(e.CBOR=t)}(this)},{}],33:[function(e,L,O){!function(A,E){!function(){!function(f){var p=Object.hasOwnProperty,d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c="object"==typeof A&&"function"==typeof A.nextTick,h="function"==typeof Symbol,e="object"==typeof Reflect,u="function"==typeof E?E:setTimeout,w=h?e&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function m(){this._events={},this._conf&&t.call(this,this._conf)}function t(e){e&&((this._conf=e).delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==f&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function y(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==A&&A.emitWarning?((t=new Error(n)).name="MaxListenersExceededWarning",t.emitter=this,t.count=e,A.emitWarning(t)):(console.error(n),console.trace&&console.trace())}function l(e,t,n){var i=arguments.length;switch(i){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var s=new Array(i);i--;)s[i]=arguments[i];return s}}function n(e,t){for(var n={},i=e.length,s=t?value.length:0,r=0;r<i;r++)n[e[r]]=r<s?t[r]:f;return n}function v(e,t,n){var i;if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(i=n.on,s=n.off),t.addEventListener?(i=t.addEventListener,s=t.removeEventListener):t.addListener?(i=t.addListener,s=t.removeListener):t.on&&(i=t.on,s=t.off),!i&&!s)throw Error("target does not implement any known event API");if("function"!=typeof i)throw TypeError("on method must be a function");if("function"!=typeof s)throw TypeError("off method must be a function");this._on=i,this._off=s;var s=e._observers;s?s.push(this):e._observers=[this]}function g(e,t,n,i){var s=Object.assign({},t);if(!e)return s;if("object"!=typeof e)throw TypeError("options must be an object");var r,o,a,c=Object.keys(e),u=c.length;function l(e){throw Error('Invalid "'+r+'" option value'+(e?". Reason: "+e:""))}for(var h=0;h<u;h++){if(r=c[h],!i&&!p.call(t,r))throw Error('Unknown "'+r+'" option');(o=e[r])!==f&&(a=n[r],s[r]=a?a(o,l):o)}return s}function i(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function s(s){var r="value must be type of "+s.join("|"),o=s.length,i=s[0],a=s[1];return 1===o?function(e,t){if(typeof e===i)return e;t(r)}:2===o?function(e,t){var n=typeof e;if(n===i||n===a)return e;t(r)}:function(e,t){for(var n=typeof e,i=o;0<i--;)if(n===s[i])return e;t(r)}}Object.assign(v.prototype,{subscribe:function(n,i,s){function t(){var e=l.apply(null,arguments),t={data:e,name:i,original:n};s?!1!==s.call(o,t)&&a.emit.apply(a,[t.name].concat(e)):a.emit.apply(a,[i].concat(e))}var r=this,o=this._target,a=this._emitter,c=this._listeners;if(c[n])throw Error("Event '"+n+"' is already listening");this._listenersCount++,a._newListener&&a._removeListener&&!r._onNewListener?(this._onNewListener=function(e){e===i&&null===c[n]&&(c[n]=t,r._on.call(o,n,t))},a.on("newListener",this._onNewListener),this._onRemoveListener=function(e){e===i&&!a.hasListeners(e)&&c[n]&&(c[n]=null,r._off.call(o,n,t))},c[n]=null,a.on("removeListener",this._onRemoveListener)):(c[n]=t,r._on.call(o,n,t))},unsubscribe:function(e){var t,n,i,s=this,r=this._listeners,o=this._emitter,a=this._off,c=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function u(){s._onNewListener&&(o.off("newListener",s._onNewListener),o.off("removeListener",s._onRemoveListener),s._onNewListener=null,s._onRemoveListener=null);var e=_.call(o,s);o._observers.splice(e,1)}if(e)(t=r[e])&&(a.call(c,e,t),delete r[e],--this._listenersCount||u());else{for(i=(n=w(r)).length;0<i--;)e=n[i],a.call(c,e,r[e]);this._listeners={},this._listenersCount=0,u()}}});var a=s(["function"]),r=s(["object","function"]);function b(o,a,c){var u,l,h,f=0,p=new o(function(t,n,e){function i(){l=l&&null,f&&(clearTimeout(f),f=0)}c=g(c,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}}),u=!c.overload&&"function"==typeof o.prototype.cancel&&"function"==typeof e;function s(e){i(),t(e)}function r(e){i(),n(e)}u?a(s,r,e):(l=[function(e){r(e||Error("canceled"))}],a(s,r,function(e){if(h)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");l.push(e)}),h=!0),0<c.timeout&&(f=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",f=0,p.cancel(e),n(e)},c.timeout))});return u||(p.cancel=function(e){if(l){for(var t=l.length,n=1;n<t;n++)l[n](e);l[0](e),l=null}}),p}function _(e){var t=this._observers;if(!t)return-1;for(var n=t.length,i=0;i<n;i++)if(t[i]._target===e)return i;return-1}function S(e,t,n,i,s){if(!n)return null;if(0===i){var r=typeof t;if("string"==r){var o,a,c=0,u=0,l=this.delimiter,h=l.length;if(-1!==(a=t.indexOf(l))){for(o=new Array(5);o[c++]=t.slice(u,a),-1!==(a=t.indexOf(l,u=a+h)););o[c++]=t.slice(u),t=o,s=c}else t=[t],s=1}else s="object"==r?t.length:(t=[t],1)}var f,p,d,m,y,v,g=null,b=t[i],_=t[i+1];if(i===s)n._listeners&&(g=("function"==typeof n._listeners?e&&e.push(n._listeners):e&&e.push.apply(e,n._listeners),[n]));else{if("*"===b){for(a=(y=w(n)).length;0<a--;)"_listeners"!==(f=y[a])&&(v=S(e,t,n[f],i+1,s))&&(g?g.push.apply(g,v):g=v);return g}if("**"===b){for((m=i+1===s||i+2===s&&"*"===_)&&n._listeners&&(g=S(e,t,n,s,s)),a=(y=w(n)).length;0<a--;)"_listeners"!==(f=y[a])&&(v="*"===f||"**"===f?(n[f]._listeners&&!m&&(v=S(e,t,n[f],s,s))&&(g?g.push.apply(g,v):g=v),S(e,t,n[f],i,s)):S(e,t,n[f],f===_?i+2:i,s))&&(g?g.push.apply(g,v):g=v);return g}n[b]&&(g=S(e,t,n[b],i+1,s))}if((r=n["*"])&&S(e,t,r,i+1,s),p=n["**"])if(i<s)for(p._listeners&&S(e,t,p,s,s),a=(y=w(p)).length;0<a--;)"_listeners"!==(f=y[a])&&(f===_?S(e,t,p[f],i+2,s):f===b?S(e,t,p[f],i+1,s):((d={})[f]=p[f],S(e,t,{"**":d},i+1,s)));else p._listeners?S(e,t,p,s,s):p["*"]&&p["*"]._listeners&&S(e,t,p["*"],s,s);return g}function T(e,t,n,i){for(var s,r,o,a=w(e),c=a.length,u=e._listeners;0<c--;)s=e[o=a[c]],r="_listeners"===o?n:n?n.concat(o):[o],o=i||"symbol"==typeof o,u&&t.push(o?r:r.join(this.delimiter)),"object"==typeof s&&T.call(this,s,t,r,o);return t}function x(e){for(var t,n,i,s=w(e),r=s.length;0<r--;)(t=e[n=s[r]])&&(i=!0,"_listeners"===n||x(t)||delete e[n]);return i}function k(e,t,n){this.emitter=e,this.event=t,this.listener=n}function o(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,t.call(this,e)}k.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},(o.EventEmitter2=o).prototype.listenTo=function(u,e,l){if("object"!=typeof u)throw TypeError("target musts be an object");var h=this;function t(e){if("object"!=typeof e)throw TypeError("events must be an object");for(var t,n=l.reducers,i=_.call(h,u),s=-1===i?new v(h,u,l):h._observers[i],r=w(e),o=r.length,a="function"==typeof n,c=0;c<o;c++)t=r[c],s.subscribe(t,e[t]||t,a?n:n&&n[t])}return l=g(l,{on:f,off:f,reducers:f},{on:a,off:a,reducers:r}),d(e)?t(n(e)):t("string"==typeof e?n(e.split(/\s+/)):e),this},o.prototype.stopListeningTo=function(e,t){var n=this._observers;if(!n)return!1;var i,s=n.length,r=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;0<s--;)i=n[s],e&&i._target!==e||(i.unsubscribe(t),r=!0);return r},o.prototype.delimiter=".",o.prototype.setMaxListeners=function(e){e!==f&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},o.prototype.getMaxListeners=function(){return this._maxListeners},o.prototype.event="",o.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},o.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},o.prototype._once=function(e,t,n,i){return this._many(e,1,t,n,i)},o.prototype.many=function(e,t,n,i){return this._many(e,t,n,!1,i)},o.prototype.prependMany=function(e,t,n,i){return this._many(e,t,n,!0,i)},o.prototype._many=function(e,t,n,i,s){var r=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function o(){return 0==--t&&r.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,i,s)},o.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,i,s,r,o=arguments[0],a=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return!1;if(a&&"newListener"!==(e=o)&&"removeListener"!==o&&"object"==typeof o){if(n=o.length,h)for(i=0;i<n;i++)if("symbol"==typeof o[i]){r=!0;break}r||(o=o.join(this.delimiter))}var c,u=arguments.length;if(this._all&&this._all.length)for(i=0,n=(c=this._all.slice()).length;i<n;i++)switch(this.event=o,u){case 1:c[i].call(this,o);break;case 2:c[i].call(this,o,arguments[1]);break;case 3:c[i].call(this,o,arguments[1],arguments[2]);break;default:c[i].apply(this,arguments)}if(a)S.call(this,c=[],e,this.listenerTree,0,n);else{if("function"==typeof(c=this._events[o])){switch(this.event=o,u){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(u-1),s=1;s<u;s++)t[s-1]=arguments[s];c.apply(this,t)}return!0}c=c&&c.slice()}if(c&&c.length){if(3<u)for(t=new Array(u-1),s=1;s<u;s++)t[s-1]=arguments[s];for(i=0,n=c.length;i<n;i++)switch(this.event=o,u){case 1:c[i].call(this);break;case 2:c[i].call(this,arguments[1]);break;case 3:c[i].call(this,arguments[1],arguments[2]);break;default:c[i].apply(this,t)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===o)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},o.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||m.call(this);var e,t,n,i,s,r,o=arguments[0],a=this.wildcard;if("newListener"===o&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(a&&"newListener"!==(e=o)&&"removeListener"!==o&&"object"==typeof o){if(i=o.length,h)for(s=0;s<i;s++)if("symbol"==typeof o[s]){t=!0;break}t||(o=o.join(this.delimiter))}var c,u=[],l=arguments.length;if(this._all)for(s=0,i=this._all.length;s<i;s++)switch(this.event=o,l){case 1:u.push(this._all[s].call(this,o));break;case 2:u.push(this._all[s].call(this,o,arguments[1]));break;case 3:u.push(this._all[s].call(this,o,arguments[1],arguments[2]));break;default:u.push(this._all[s].apply(this,arguments))}if(a?S.call(this,c=[],e,this.listenerTree,0):c=this._events[o],"function"==typeof c)switch(this.event=o,l){case 1:u.push(c.call(this));break;case 2:u.push(c.call(this,arguments[1]));break;case 3:u.push(c.call(this,arguments[1],arguments[2]));break;default:for(n=new Array(l-1),r=1;r<l;r++)n[r-1]=arguments[r];u.push(c.apply(this,n))}else if(c&&c.length){if(c=c.slice(),3<l)for(n=new Array(l-1),r=1;r<l;r++)n[r-1]=arguments[r];for(s=0,i=c.length;s<i;s++)switch(this.event=o,l){case 1:u.push(c[s].call(this));break;case 2:u.push(c[s].call(this,arguments[1]));break;case 3:u.push(c[s].call(this,arguments[1],arguments[2]));break;default:u.push(c[s].apply(this,n))}}else if(!this.ignoreErrors&&!this._all&&"error"===o)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},o.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},o.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},o.prototype.onAny=function(e){return this._onAny(e,!1)},o.prototype.prependAny=function(e){return this._onAny(e,!0)},o.prototype.addListener=o.prototype.on,o.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},o.prototype._on=function(e,t,n,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");this._events||m.call(this);var s=this;return i!==f&&(t=(i=function(e,t,n){if(!0===n)s=!0;else if(!1===n)i=!0;else{if(!n||"object"!=typeof n)throw TypeError("options should be an object or true");var i=n.async,s=n.promisify,r=n.nextTick,o=n.objectify}if(i||r||s){var a=t,i=t._origin||t;if(r&&!c)throw Error("process.nextTick is not supported");s===f&&(s="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,n=this.event;return s?r?Promise.resolve():new Promise(function(e){u(e)}).then(function(){return t.event=n,a.apply(t,e)}):(r?A.nextTick:u)(function(){t.event=n,a.apply(t,e)})})._async=!0,t._origin=i}return[t,o?new k(this,e,t):this]}.call(this,e,t,i))[0],s=i[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard?function(e,t,n){var i,s=0,r=0,o=this.delimiter,a=o.length;if("string"==typeof e)if(-1!==(l=e.indexOf(o))){for(i=new Array(5);i[s++]=e.slice(r,l),-1!==(l=e.indexOf(o,r=l+a)););i[s++]=e.slice(r)}else i=[e],s=1;else s=(i=e).length;if(1<s)for(l=0;l+1<s;l++)if("**"===i[l]&&"**"===i[l+1])return;for(var c,u=this.listenerTree,l=0;l<s;l++)if(u=u[c=i[l]]||(u[c]={}),l===s-1)return u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&0<this._maxListeners&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,y.call(this,u._listeners.length,c))):u._listeners=t,!0;return!0}.call(this,e,t,n):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&0<this._maxListeners&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,y.call(this,this._events[e].length,e))):this._events[e]=t,s},o.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(n=S.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;o=this._events[e],n.push({_listeners:o})}for(var s=0;s<n.length;s++){var r=n[s],o=r._listeners;if(d(o)){for(var a=-1,c=0,u=o.length;c<u;c++)if(o[c]===t||o[c].listener&&o[c].listener===t||o[c]._origin&&o[c]._origin===t){a=c;break}if(!(a<0))return(this.wildcard?r._listeners:this._events[e]).splice(a,1),0===o.length&&(this.wildcard?delete r._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}else(o===t||o.listener&&o.listener===t||o._origin&&o._origin===t)&&(this.wildcard?delete r._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&x(this.listenerTree),this},o.prototype.offAny=function(e){var t,n=0,i=0;if(e&&this._all&&0<this._all.length){for(n=0,i=(t=this._all).length;n<i;n++)if(e===t[n])return t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e),this}else{if(t=this._all,this._removeListener)for(n=0,i=t.length;n<i;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},o.prototype.removeListener=o.prototype.off,o.prototype.removeAllListeners=function(e){if(e===f)return this._events&&m.call(this),this;if(this.wildcard){var t,n=S.call(this,null,e,this.listenerTree,0);if(!n)return this;for(t=0;t<n.length;t++)n[t]._listeners=null;this.listenerTree&&x(this.listenerTree)}else this._events&&(this._events[e]=null);return this},o.prototype.listeners=function(e){var t,n,i,s,r,o=this._events;if(e===f){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!o)return[];for(s=(t=w(o)).length,i=[];0<s--;)"function"==typeof(n=o[t[s]])?i.push(n):i.push.apply(i,n);return i}if(this.wildcard){if(!(r=this.listenerTree))return[];var a=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,a,c,r,0),a}return o&&(n=o[e])?"function"==typeof n?[n]:n:[]},o.prototype.eventNames=function(e){var t=this._events;return this.wildcard?T.call(this,this.listenerTree,[],null,e):t?w(t):[]},o.prototype.listenerCount=function(e){return this.listeners(e).length},o.prototype.hasListeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return S.call(this,t,n,this.listenerTree,0),0<t.length}n=this._events,t=this._all;return!!(t&&t.length||n&&(e===f?w(n).length:n[e]))},o.prototype.listenersAny=function(){return this._all||[]},o.prototype.waitFor=function(s,r){var o=this,e=typeof r;return"number"==e?r={timeout:r}:"function"==e&&(r={filter:r}),b((r=g(r,{timeout:0,filter:f,handleError:!1,Promise:Promise,overload:!1},{filter:a,Promise:i})).Promise,function(t,n,e){function i(){var e=r.filter;e&&!e.apply(o,arguments)||(o.off(s,i),r.handleError?(e=arguments[0])?n(e):t(l.apply(null,arguments).slice(1)):t(l.apply(null,arguments)))}e(function(){o.off(s,i)}),o._on(s,i,!1)},{timeout:r.timeout,overload:r.overload})};var C=o.prototype;Object.defineProperties(o,{defaultMaxListeners:{get:function(){return C._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");C._maxListeners=e},enumerable:!0},once:{value:function(o,a,e){return b((e=g(e,{Promise:Promise,timeout:0,overload:!1},{Promise:i})).Promise,function(e,t,n){var i;if("function"==typeof o.addEventListener)return i=function(){e(l.apply(null,arguments))},n(function(){o.removeEventListener(a,i)}),void o.addEventListener(a,i,{once:!0});function s(){r&&o.removeListener("error",r),e(l.apply(null,arguments))}var r;"error"!==a&&(r=function(e){o.removeListener(a,s),t(e)},o.once("error",r)),n(function(){r&&o.removeListener("error",r),o.removeListener(a,s)}),o.once(a,s)},{timeout:e.timeout,overload:e.overload})},writable:!0,configurable:!0}}),Object.defineProperties(C,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd?define(function(){return o}):"object"==typeof O?L.exports=o:new Function("","return this")().EventEmitter2=o}()}.call(this)}.call(this,e("_process"),e("timers").setImmediate)},{_process:37,timers:38}],34:[function(s,r,e){!function(t){!function(){var{urlAlphabet:e}=s("./url-alphabet/index.cjs");if("production"!==t.env.NODE_ENV){if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you dont need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you dont need unpredictable IDs, you can use nanoid/non-secure.")}let n=e=>crypto.getRandomValues(new Uint8Array(e)),i=(i,s,r)=>{let o=(2<<Math.log(i.length-1)/Math.LN2)-1,a=-~(1.6*o*s/i.length);return()=>{let t="";for(;;){var n=r(a);let e=a;for(;e--;)if(t+=i[n[e]&o]||"",t.length===s)return t}}};r.exports={nanoid:(t=21)=>{let n="";for(var i=crypto.getRandomValues(new Uint8Array(t));t--;){let e=63&i[t];e<36?n+=e.toString(36):e<62?n+=(e-26).toString(36).toUpperCase():e<63?n+="_":n+="-"}return n},customAlphabet:(e,t)=>i(e,t,n),customRandom:i,urlAlphabet:e,random:n}}.call(this)}.call(this,s("_process"))},{"./url-alphabet/index.cjs":35,_process:37}],35:[function(e,t,n){t.exports={urlAlphabet:"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"}},{}],36:[function(e,t,n){"use strict";var c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},i)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var n,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var r in n=Object(arguments[s]))u.call(n,r)&&(i[r]=n[r]);if(c)for(var o=c(n),a=0;a<o.length;a++)l.call(n,o[a])&&(i[o[a]]=n[o[a]])}return i}},{}],37:[function(e,t,n){var i,s,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(e){i=r}try{s="function"==typeof clearTimeout?clearTimeout:o}catch(e){s=o}}();var c,u=[],l=!1,h=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):h=-1,u.length&&p())}function p(){if(!l){var e=a(f);l=!0;for(var t=u.length;t;){for(c=u,u=[];++h<t;)c&&c[h].run();h=-1,t=u.length}c=null,l=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],38:[function(c,e,u){!function(n,a){!function(){var i=c("process/browser.js").nextTick,e=Function.prototype.apply,s=Array.prototype.slice,r={},o=0;function t(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof n?n:function(e){var t=o++,n=!(arguments.length<2)&&s.call(arguments,1);return r[t]=!0,i(function(){r[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof a?a:function(e){delete r[e]}}.call(this)}.call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":37,timers:38}],39:[function(e,t,n){var f=arguments[3],p=arguments[4],d=arguments[5],m=JSON.stringify;t.exports=function(e,t){for(var n=Object.keys(d),i=0,s=n.length;i<s;i++){var r=n[i],o=d[r].exports;if(o===e||o&&o.default===e){a=r;break}}if(!a){for(var a=Math.floor(Math.pow(16,8)*Math.random()).toString(16),c={},i=0,s=n.length;i<s;i++)c[r=n[i]]=r;p[a]=["function(require,module,exports){"+e+"(self); }",c]}var u=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[a]=a,p[u]=["function(require,module,exports){var f = require("+m(a)+");(f.default ? f.default : f)(self);}",l];var h={};!function e(t){h[t]=!0;for(var n in p[t][1]){var n=p[t][1][n];h[n]||e(n)}}(u);l="("+f+")({"+Object.keys(h).map(function(e){return m(e)+":["+p[e][0]+","+m(p[e][1])+"]"}).join(",")+"},{},["+m(u)+"])",u=window.URL||window.webkitURL||window.mozURL||window.msURL,l=new Blob([l],{type:"text/javascript"});if(t&&t.bare)return l;u=u.createObjectURL(l),l=new Worker(u);return l.objectURL=u,l}},{}],40:[function(e,t,n){var i=this.ROSLIB||{REVISION:"1.2.0"},s=e("object-assign");s(i,e("./core")),s(i,e("./actionlib")),s(i,e("./math")),s(i,e("./tf")),s(i,e("./urdf")),t.exports=i},{"./actionlib":46,"./core":55,"./math":60,"./tf":63,"./urdf":75,"object-assign":36}],41:[function(t,e,n){!function(e){!function(){e.ROSLIB=t("./RosLib")}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./RosLib":40}],42:[function(e,t,n){var i=e("../core/Topic"),s=e("../core/Message"),e=e("eventemitter2").EventEmitter2;function r(e){var n=this;this.ros=(e=e||{}).ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult;var t=!(this.goals={});this.feedbackListener=new i({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.statusListener=new i({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),this.resultListener=new i({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.goalTopic=new i({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),this.cancelTopic=new i({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"}),this.goalTopic.advertise(),this.cancelTopic.advertise(),this.omitStatus||this.statusListener.subscribe(function(e){t=!0,e.status_list.forEach(function(e){var t=n.goals[e.goal_id.id];t&&t.emit("status",e)})}),this.omitFeedback||this.feedbackListener.subscribe(function(e){var t=n.goals[e.status.goal_id.id];t&&(t.emit("status",e.status),t.emit("feedback",e.feedback))}),this.omitResult||this.resultListener.subscribe(function(e){var t=n.goals[e.status.goal_id.id];t&&(t.emit("status",e.status),t.emit("result",e.result))}),this.timeout&&setTimeout(function(){t||n.emit("timeout")},this.timeout)}r.prototype.__proto__=e.prototype,r.prototype.cancel=function(){var e=new s;this.cancelTopic.publish(e)},r.prototype.dispose=function(){this.goalTopic.unadvertise(),this.cancelTopic.unadvertise(),this.omitStatus||this.statusListener.unsubscribe(),this.omitFeedback||this.feedbackListener.unsubscribe(),this.omitResult||this.resultListener.unsubscribe()},t.exports=r},{"../core/Message":47,"../core/Topic":54,eventemitter2:33}],43:[function(e,t,n){var r=e("../core/Topic"),e=(e("../core/Message"),e("eventemitter2").EventEmitter2);function i(e){var t=this;this.ros=(e=e||{}).ros,this.serverName=e.serverName,this.actionName=e.actionName,this.timeout=e.timeout,this.omitFeedback=e.omitFeedback,this.omitStatus=e.omitStatus,this.omitResult=e.omitResult;var n=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),i=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),s=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"}),e=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"});n.subscribe(function(e){t.emit("goal",e)}),s.subscribe(function(e){e.status_list.forEach(function(e){t.emit("status",e)})}),i.subscribe(function(e){t.emit("status",e.status),t.emit("feedback",e.feedback)}),e.subscribe(function(e){t.emit("status",e.status),t.emit("result",e.result)})}i.prototype.__proto__=e.prototype,t.exports=i},{"../core/Message":47,"../core/Topic":54,eventemitter2:33}],44:[function(e,t,n){var i=e("../core/Message"),e=e("eventemitter2").EventEmitter2;function s(e){var t=this;this.actionClient=e.actionClient,this.goalMessage=e.goalMessage,this.isFinished=!1;e=new Date;this.goalID="goal_"+Math.random()+"_"+e.getTime(),this.goalMessage=new i({goal_id:{stamp:{secs:0,nsecs:0},id:this.goalID},goal:this.goalMessage}),this.on("status",function(e){t.status=e}),this.on("result",function(e){t.isFinished=!0,t.result=e}),this.on("feedback",function(e){t.feedback=e}),this.actionClient.goals[this.goalID]=this}s.prototype.__proto__=e.prototype,s.prototype.send=function(e){var t=this;t.actionClient.goalTopic.publish(t.goalMessage),e&&setTimeout(function(){t.isFinished||t.emit("timeout")},e)},s.prototype.cancel=function(){var e=new i({id:this.goalID});this.actionClient.cancelTopic.publish(e)},t.exports=s},{"../core/Message":47,eventemitter2:33}],45:[function(e,t,n){var r=e("../core/Topic"),o=e("../core/Message"),e=e("eventemitter2").EventEmitter2;function i(e){var n=this;this.ros=(e=e||{}).ros,this.serverName=e.serverName,this.actionName=e.actionName,this.feedbackPublisher=new r({ros:this.ros,name:this.serverName+"/feedback",messageType:this.actionName+"Feedback"}),this.feedbackPublisher.advertise();var i=new r({ros:this.ros,name:this.serverName+"/status",messageType:"actionlib_msgs/GoalStatusArray"});i.advertise(),this.resultPublisher=new r({ros:this.ros,name:this.serverName+"/result",messageType:this.actionName+"Result"}),this.resultPublisher.advertise();var t=new r({ros:this.ros,name:this.serverName+"/goal",messageType:this.actionName+"Goal"}),e=new r({ros:this.ros,name:this.serverName+"/cancel",messageType:"actionlib_msgs/GoalID"});this.statusMessage=new o({header:{stamp:{secs:0,nsecs:100},frame_id:""},status_list:[]}),this.currentGoal=null,this.nextGoal=null,t.subscribe(function(e){n.currentGoal?(n.nextGoal=e,n.emit("cancel")):(n.statusMessage.status_list=[{goal_id:e.goal_id,status:1}],n.currentGoal=e,n.emit("goal",e.goal))});function s(e,t){return!(e.secs>t.secs)&&(e.secs<t.secs||e.nsecs<t.nsecs)}e.subscribe(function(e){0===e.stamp.secs&&0===e.stamp.secs&&""===e.id?(n.nextGoal=null,n.currentGoal&&n.emit("cancel")):(n.currentGoal&&e.id===n.currentGoal.goal_id.id?n.emit("cancel"):n.nextGoal&&e.id===n.nextGoal.goal_id.id&&(n.nextGoal=null),n.nextGoal&&s(n.nextGoal.goal_id.stamp,e.stamp)&&(n.nextGoal=null),n.currentGoal&&s(n.currentGoal.goal_id.stamp,e.stamp)&&n.emit("cancel"))});setInterval(function(){var e=new Date,t=Math.floor(e.getTime()/1e3),e=Math.round(1e9*(e.getTime()/1e3-t));n.statusMessage.header.stamp.secs=t,n.statusMessage.header.stamp.nsecs=e,i.publish(n.statusMessage)},500)}i.prototype.__proto__=e.prototype,i.prototype.setSucceeded=function(e){e=new o({status:{goal_id:this.currentGoal.goal_id,status:3},result:e});this.resultPublisher.publish(e),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.setAborted=function(e){e=new o({status:{goal_id:this.currentGoal.goal_id,status:4},result:e});this.resultPublisher.publish(e),this.statusMessage.status_list=[],this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},i.prototype.sendFeedback=function(e){e=new o({status:{goal_id:this.currentGoal.goal_id,status:1},feedback:e});this.feedbackPublisher.publish(e)},i.prototype.setPreempted=function(){this.statusMessage.status_list=[];var e=new o({status:{goal_id:this.currentGoal.goal_id,status:2}});this.resultPublisher.publish(e),this.nextGoal?(this.currentGoal=this.nextGoal,this.nextGoal=null,this.emit("goal",this.currentGoal.goal)):this.currentGoal=null},t.exports=i},{"../core/Message":47,"../core/Topic":54,eventemitter2:33}],46:[function(e,t,n){var i=e("../core/Ros");e("../mixin")(i,["ActionClient","SimpleActionServer"],t.exports={ActionClient:e("./ActionClient"),ActionListener:e("./ActionListener"),Goal:e("./Goal"),SimpleActionServer:e("./SimpleActionServer")})},{"../core/Ros":49,"../mixin":61,"./ActionClient":42,"./ActionListener":43,"./Goal":44,"./SimpleActionServer":45}],47:[function(e,t,n){var i=e("object-assign");t.exports=function(e){i(this,e)}},{"object-assign":36}],48:[function(e,t,n){var i=e("./Service"),s=e("./ServiceRequest");function r(e){this.ros=(e=e||{}).ros,this.name=e.name}r.prototype.get=function(t){var e=new i({ros:this.ros,name:"/rosapi/get_param",serviceType:"rosapi/GetParam"}),n=new s({name:this.name});e.callService(n,function(e){e=JSON.parse(e.value);t(e)})},r.prototype.set=function(e,t){var n=new i({ros:this.ros,name:"/rosapi/set_param",serviceType:"rosapi/SetParam"}),e=new s({name:this.name,value:JSON.stringify(e)});n.callService(e,t)},r.prototype.delete=function(e){var t=new i({ros:this.ros,name:"/rosapi/delete_param",serviceType:"rosapi/DeleteParam"}),n=new s({name:this.name});t.callService(n,e)},t.exports=r},{"./Service":50,"./ServiceRequest":51}],49:[function(e,t,n){var i=e("ws"),s=e("../util/workerSocket"),r=e("../util/stompWsAdapter"),o=e("./SocketAdapter"),a=e("./Service"),c=e("./ServiceRequest"),u=e("object-assign"),e=e("eventemitter2").EventEmitter2;function l(e){e=e||{};var t=this;this.socket=null,this.idCounter=0,this.isConnected=!1,this.transportLibrary=e.transportLibrary||"websocket",this.transportOptions=e.transportOptions||{},this._sendFunc=function(e){t.sendEncodedMessage(e)},void 0===e.groovyCompatibility?this.groovyCompatibility=!0:this.groovyCompatibility=e.groovyCompatibility,this.setMaxListeners(0),e.url&&this.connect(e.url)}l.prototype.__proto__=e.prototype,l.prototype.connect=function(e){if("socket.io"===this.transportLibrary)this.socket=u(io(e,{"force new connection":!0}),o(this)),this.socket.on("connect",this.socket.onopen),this.socket.on("data",this.socket.onmessage),this.socket.on("close",this.socket.onclose),this.socket.on("error",this.socket.onerror);else if("RTCPeerConnection"===this.transportLibrary.constructor.name)this.socket=u(this.transportLibrary.createDataChannel(e,this.transportOptions),o(this));else if("websocket"===this.transportLibrary){var t;this.socket&&this.socket.readyState!==i.CLOSED||((t=new i(e)).binaryType="arraybuffer",this.socket=u(t,o(this)))}else if("workersocket"===this.transportLibrary)this.socket=u(new s(e),o(this));else{if("stompjs"!==this.transportLibrary)throw"Unknown transportLibrary: "+this.transportLibrary.toString();this.socket=u(new r(e,this.transportOptions),o(this)),this.socket.stompClient_.onWebSocketClose=this.socket.onclose,this.socket.stompClient_.onWebSocketError=this.socket.onerror}},l.prototype.close=function(){this.socket&&this.socket.close()},l.prototype.authenticate=function(e,t,n,i,s,r,o){this.callOnConnection({op:"auth",mac:e,client:t,dest:n,rand:i,t:s,level:r,end:o})},l.prototype.sendEncodedMessage=function(e){var t=null,n=this,t="socket.io"===this.transportLibrary?function(e){n.socket.emit("operation",e)}:function(e){n.socket.send(e)};this.isConnected?t(e):n.once("connection",function(){t(e)})},l.prototype.callOnConnection=function(e){this.transportOptions.encoder?this.transportOptions.encoder(e,this._sendFunc):this._sendFunc(JSON.stringify(e))},l.prototype.setStatusLevel=function(e,t){this.callOnConnection({op:"set_level",level:e,id:t})},l.prototype.getActionServers=function(t,n){var e=new a({ros:this,name:"/rosapi/action_servers",serviceType:"rosapi/GetActionServers"}),i=new c({});"function"==typeof n?e.callService(i,function(e){t(e.action_servers)},function(e){n(e)}):e.callService(i,function(e){t(e.action_servers)})},l.prototype.getTopics=function(t,n){var e=new a({ros:this,name:"/rosapi/topics",serviceType:"rosapi/Topics"}),i=new c;"function"==typeof n?e.callService(i,function(e){t(e)},function(e){n(e)}):e.callService(i,function(e){t(e)})},l.prototype.getTopicsForType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/topics_for_type",serviceType:"rosapi/TopicsForType"}),e=new c({type:e});"function"==typeof n?i.callService(e,function(e){t(e.topics)},function(e){n(e)}):i.callService(e,function(e){t(e.topics)})},l.prototype.getServices=function(t,n){var e=new a({ros:this,name:"/rosapi/services",serviceType:"rosapi/Services"}),i=new c;"function"==typeof n?e.callService(i,function(e){t(e.services)},function(e){n(e)}):e.callService(i,function(e){t(e.services)})},l.prototype.getServicesForType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),e=new c({type:e});"function"==typeof n?i.callService(e,function(e){t(e.services)},function(e){n(e)}):i.callService(e,function(e){t(e.services)})},l.prototype.getServiceRequestDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_request_details",serviceType:"rosapi/ServiceRequestDetails"}),e=new c({type:e});"function"==typeof n?i.callService(e,function(e){t(e)},function(e){n(e)}):i.callService(e,function(e){t(e)})},l.prototype.getServiceResponseDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_response_details",serviceType:"rosapi/ServiceResponseDetails"}),e=new c({type:e});"function"==typeof n?i.callService(e,function(e){t(e)},function(e){n(e)}):i.callService(e,function(e){t(e)})},l.prototype.getNodes=function(t,n){var e=new a({ros:this,name:"/rosapi/nodes",serviceType:"rosapi/Nodes"}),i=new c;"function"==typeof n?e.callService(i,function(e){t(e.nodes)},function(e){n(e)}):e.callService(i,function(e){t(e.nodes)})},l.prototype.getNodeDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/node_details",serviceType:"rosapi/NodeDetails"}),e=new c({node:e});"function"==typeof n?i.callService(e,function(e){t(e.subscribing,e.publishing,e.services)},function(e){n(e)}):i.callService(e,function(e){t(e)})},l.prototype.getParams=function(t,n){var e=new a({ros:this,name:"/rosapi/get_param_names",serviceType:"rosapi/GetParamNames"}),i=new c;"function"==typeof n?e.callService(i,function(e){t(e.names)},function(e){n(e)}):e.callService(i,function(e){t(e.names)})},l.prototype.getTopicType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/topic_type",serviceType:"rosapi/TopicType"}),e=new c({topic:e});"function"==typeof n?i.callService(e,function(e){t(e.type)},function(e){n(e)}):i.callService(e,function(e){t(e.type)})},l.prototype.getServiceType=function(e,t,n){var i=new a({ros:this,name:"/rosapi/service_type",serviceType:"rosapi/ServiceType"}),e=new c({service:e});"function"==typeof n?i.callService(e,function(e){t(e.type)},function(e){n(e)}):i.callService(e,function(e){t(e.type)})},l.prototype.getMessageDetails=function(e,t,n){var i=new a({ros:this,name:"/rosapi/message_details",serviceType:"rosapi/MessageDetails"}),e=new c({type:e});"function"==typeof n?i.callService(e,function(e){t(e.typedefs)},function(e){n(e)}):i.callService(e,function(e){t(e.typedefs)})},l.prototype.decodeTypeDefs=function(e){var l=this,h=function(e,t){for(var n={},i=0;i<e.fieldnames.length;i++){var s=e.fieldarraylen[i],r=e.fieldnames[i],o=e.fieldtypes[i];if(-1===o.indexOf("/"))n[r]=-1===s?o:[o];else{for(var a,c=!1,u=0;u<t.length;u++)if(t[u].type.toString()===o.toString()){c=t[u];break}c?(a=h(c,t),-1===s||(n[r]=[a])):l.emit("error","Cannot find "+o+" in decodeTypeDefs")}}return n};return h(e[0],e)},l.prototype.getTopicsAndRawTypes=function(t,n){var e=new a({ros:this,name:"/rosapi/topics_and_raw_types",serviceType:"rosapi/TopicsAndRawTypes"}),i=new c;"function"==typeof n?e.callService(i,function(e){t(e)},function(e){n(e)}):e.callService(i,function(e){t(e)})},t.exports=l},{"../util/stompWsAdapter":81,"../util/workerSocket":82,"./Service":50,"./ServiceRequest":51,"./SocketAdapter":53,eventemitter2:33,"object-assign":36,ws:78}],50:[function(e,t,n){var s=e("./ServiceResponse"),e=(e("./ServiceRequest"),e("eventemitter2").EventEmitter2);function i(e){this.ros=(e=e||{}).ros,this.name=e.name,this.serviceType=e.serviceType,this.isAdvertised=!1,this._serviceCallback=null}i.prototype.__proto__=e.prototype,i.prototype.callService=function(e,t,n){var i;this.isAdvertised||(i="call_service:"+this.name+":"+ ++this.ros.idCounter,(t||n)&&this.ros.once(i,function(e){void 0!==e.result&&!1===e.result?"function"==typeof n&&n(e.values):"function"==typeof t&&t(new s(e.values))}),e={op:"call_service",id:i,service:this.name,type:this.serviceType,args:e},this.ros.callOnConnection(e))},i.prototype.advertise=function(e){this.isAdvertised||"function"!=typeof e||(this._serviceCallback=e,this.ros.on(this.name,this._serviceResponse.bind(this)),this.ros.callOnConnection({op:"advertise_service",type:this.serviceType,service:this.name}),this.isAdvertised=!0)},i.prototype.unadvertise=function(){this.isAdvertised&&(this.ros.callOnConnection({op:"unadvertise_service",service:this.name}),this.isAdvertised=!1)},i.prototype._serviceResponse=function(e){var t={},n=this._serviceCallback(e.args,t),n={op:"service_response",service:this.name,values:new s(t),result:n};e.id&&(n.id=e.id),this.ros.callOnConnection(n)},t.exports=i},{"./ServiceRequest":51,"./ServiceResponse":52,eventemitter2:33}],51:[function(e,t,n){var i=e("object-assign");t.exports=function(e){i(this,e)}},{"object-assign":36}],52:[function(e,t,n){var i=e("object-assign");t.exports=function(e){i(this,e)}},{"object-assign":36}],53:[function(e,t,n){"use strict";var r=e("../util/decompressPng"),o=e("cbor-js"),a=e("../util/cborTypedArrayTags"),c=null;"undefined"!=typeof bson&&(c=bson().BSON),t.exports=function(t){var n=null;function i(e){"publish"===e.op?t.emit(e.topic,e.msg):"service_response"===e.op?t.emit(e.id,e):"call_service"===e.op?t.emit(e.service,e):"status"===e.op&&(e.id?t.emit("status:"+e.id,e):t.emit("status",e))}function s(e,t){"png"===e.op?r(e.data,t):t(e)}return t.transportOptions.decoder&&(n=t.transportOptions.decoder),{onopen:function(e){t.isConnected=!0,t.emit("connection",e)},onclose:function(e){t.isConnected=!1,t.emit("close",e)},onerror:function(e){t.emit("error",e)},onmessage:function(e){n?n(e.data,function(e){i(e)}):"undefined"!=typeof Blob&&e.data instanceof Blob?function(e,t){if(!c)throw"Cannot process BSON encoded message without BSON header.";var n=new FileReader;n.onload=function(){var e=new Uint8Array(this.result),e=c.deserialize(e);t(e)},n.readAsArrayBuffer(e)}(e.data,function(e){s(e,i)}):e.data instanceof ArrayBuffer?i(o.decode(e.data,a)):s(JSON.parse("string"==typeof e?e:e.data),i)}}}},{"../util/cborTypedArrayTags":76,"../util/decompressPng":80,"cbor-js":32}],54:[function(e,t,n){var i=e("eventemitter2").EventEmitter2,s=e("./Message");function r(e){this.ros=(e=e||{}).ros,this.name=e.name,this.messageType=e.messageType,this.isAdvertised=!1,this.compression=e.compression||"none",this.throttle_rate=e.throttle_rate||0,this.latch=e.latch||!1,this.queue_size=e.queue_size||100,this.queue_length=e.queue_length||0,this.reconnect_on_close=void 0===e.reconnect_on_close||e.reconnect_on_close,this.compression&&"png"!==this.compression&&"cbor"!==this.compression&&"cbor-raw"!==this.compression&&"none"!==this.compression&&(this.emit("warning",this.compression+" compression is not supported. No compression will be used."),this.compression="none"),this.throttle_rate<0&&(this.emit("warning",this.throttle_rate+" is not allowed. Set to 0"),this.throttle_rate=0);var t=this;this.reconnect_on_close?this.callForSubscribeAndAdvertise=function(e){t.ros.callOnConnection(e),t.waitForReconnect=!1,t.reconnectFunc=function(){t.waitForReconnect||(t.waitForReconnect=!0,t.ros.callOnConnection(e),t.ros.once("connection",function(){t.waitForReconnect=!1}))},t.ros.on("close",t.reconnectFunc)}:this.callForSubscribeAndAdvertise=this.ros.callOnConnection.bind(this.ros),this._messageCallback=function(e){t.emit("message",new s(e))}}r.prototype.__proto__=i.prototype,r.prototype.subscribe=function(e){"function"==typeof e&&this.on("message",e),this.subscribeId||(this.ros.on(this.name,this._messageCallback),this.subscribeId="subscribe:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"subscribe",id:this.subscribeId,type:this.messageType,topic:this.name,compression:this.compression,throttle_rate:this.throttle_rate,queue_length:this.queue_length}))},r.prototype.unsubscribe=function(e){e&&(this.off("message",e),this.listeners("message").length)||this.subscribeId&&(this.ros.off(this.name,this._messageCallback),this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unsubscribe"),this.ros.callOnConnection({op:"unsubscribe",id:this.subscribeId,topic:this.name}),this.subscribeId=null)},r.prototype.advertise=function(){var e;this.isAdvertised||(this.advertiseId="advertise:"+this.name+":"+ ++this.ros.idCounter,this.callForSubscribeAndAdvertise({op:"advertise",id:this.advertiseId,type:this.messageType,topic:this.name,latch:this.latch,queue_size:this.queue_size}),this.isAdvertised=!0,this.reconnect_on_close||(e=this).ros.on("close",function(){e.isAdvertised=!1}))},r.prototype.unadvertise=function(){this.isAdvertised&&(this.reconnect_on_close&&this.ros.off("close",this.reconnectFunc),this.emit("unadvertise"),this.ros.callOnConnection({op:"unadvertise",id:this.advertiseId,topic:this.name}),this.isAdvertised=!1)},r.prototype.publish=function(e){this.isAdvertised||this.advertise(),this.ros.idCounter++;e={op:"publish",id:"publish:"+this.name+":"+this.ros.idCounter,topic:this.name,msg:e,latch:this.latch};this.ros.callOnConnection(e)},t.exports=r},{"./Message":47,eventemitter2:33}],55:[function(e,t,n){var i=e("../mixin"),e=t.exports={Ros:e("./Ros"),Topic:e("./Topic"),Message:e("./Message"),Param:e("./Param"),Service:e("./Service"),ServiceRequest:e("./ServiceRequest"),ServiceResponse:e("./ServiceResponse")};i(e.Ros,["Param","Service","Topic"],e)},{"../mixin":61,"./Message":47,"./Param":48,"./Ros":49,"./Service":50,"./ServiceRequest":51,"./ServiceResponse":52,"./Topic":54}],56:[function(e,t,n){var i=e("./Vector3"),s=e("./Quaternion");function r(e){this.position=new i((e=e||{}).position),this.orientation=new s(e.orientation)}r.prototype.applyTransform=function(e){this.position.multiplyQuaternion(e.rotation),this.position.add(e.translation);e=e.rotation.clone();e.multiply(this.orientation),this.orientation=e},r.prototype.clone=function(){return new r(this)},r.prototype.multiply=function(e){e=e.clone();return e.applyTransform({rotation:this.orientation,translation:this.position}),e},r.prototype.getInverse=function(){var e=this.clone();return e.orientation.invert(),e.position.multiplyQuaternion(e.orientation),e.position.x*=-1,e.position.y*=-1,e.position.z*=-1,e},t.exports=r},{"./Quaternion":57,"./Vector3":59}],57:[function(e,t,n){function i(e){this.x=(e=e||{}).x||0,this.y=e.y||0,this.z=e.z||0,this.w="number"==typeof e.w?e.w:1}i.prototype.conjugate=function(){this.x*=-1,this.y*=-1,this.z*=-1},i.prototype.norm=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},i.prototype.normalize=function(){var e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);0===e?(this.x=0,this.y=0,this.z=0,this.w=1):(this.x=this.x*(e=1/e),this.y=this.y*e,this.z=this.z*e,this.w=this.w*e)},i.prototype.invert=function(){this.conjugate(),this.normalize()},i.prototype.multiply=function(e){var t=this.x*e.w+this.y*e.z-this.z*e.y+this.w*e.x,n=-this.x*e.z+this.y*e.w+this.z*e.x+this.w*e.y,i=this.x*e.y-this.y*e.x+this.z*e.w+this.w*e.z,e=-this.x*e.x-this.y*e.y-this.z*e.z+this.w*e.w;this.x=t,this.y=n,this.z=i,this.w=e},i.prototype.clone=function(){return new i(this)},t.exports=i},{}],58:[function(e,t,n){var i=e("./Vector3"),s=e("./Quaternion");function r(e){this.translation=new i((e=e||{}).translation),this.rotation=new s(e.rotation)}r.prototype.clone=function(){return new r(this)},t.exports=r},{"./Quaternion":57,"./Vector3":59}],59:[function(e,t,n){function i(e){this.x=(e=e||{}).x||0,this.y=e.y||0,this.z=e.z||0}i.prototype.add=function(e){this.x+=e.x,this.y+=e.y,this.z+=e.z},i.prototype.subtract=function(e){this.x-=e.x,this.y-=e.y,this.z-=e.z},i.prototype.multiplyQuaternion=function(e){var t=e.w*this.x+e.y*this.z-e.z*this.y,n=e.w*this.y+e.z*this.x-e.x*this.z,i=e.w*this.z+e.x*this.y-e.y*this.x,s=-e.x*this.x-e.y*this.y-e.z*this.z;this.x=t*e.w+s*-e.x+n*-e.z-i*-e.y,this.y=n*e.w+s*-e.y+i*-e.x-t*-e.z,this.z=i*e.w+s*-e.z+t*-e.y-n*-e.x},i.prototype.clone=function(){return new i(this)},t.exports=i},{}],60:[function(e,t,n){t.exports={Pose:e("./Pose"),Quaternion:e("./Quaternion"),Transform:e("./Transform"),Vector3:e("./Vector3")}},{"./Pose":56,"./Quaternion":57,"./Transform":58,"./Vector3":59}],61:[function(e,t,n){t.exports=function(n,e,i){e.forEach(function(e){var t=i[e];n.prototype[e]=function(e){return e.ros=this,new t(e)}})}},{}],62:[function(e,t,n){var i=e("../actionlib/ActionClient"),s=e("../actionlib/Goal"),r=e("../core/Service.js"),o=e("../core/ServiceRequest.js"),a=e("../core/Topic.js"),c=e("../math/Transform");function u(e){this.ros=(e=e||{}).ros,this.fixedFrame=e.fixedFrame||"/base_link",this.angularThres=e.angularThres||2,this.transThres=e.transThres||.01,this.rate=e.rate||10,this.updateDelay=e.updateDelay||50;var t=e.topicTimeout||2,n=Math.floor(t),t=Math.floor(1e9*(t-n));this.topicTimeout={secs:n,nsecs:t},this.serverName=e.serverName||"/tf2_web_republisher",this.repubServiceName=e.repubServiceName||"/republish_tfs",this.currentGoal=!1,this.currentTopic=!1,this.frameInfos={},this.republisherUpdateRequested=!1,this._subscribeCB=null,this._isDisposed=!1,this.actionClient=new i({ros:e.ros,serverName:this.serverName,actionName:"tf2_web_republisher/TFSubscriptionAction",omitStatus:!0,omitResult:!0}),this.serviceClient=new r({ros:e.ros,name:this.repubServiceName,serviceType:"tf2_web_republisher/RepublishTFs"})}u.prototype.processTFArray=function(e){e.transforms.forEach(function(e){var t=e.child_frame_id;"/"===t[0]&&(t=t.substring(1));var n=this.frameInfos[t];n&&(n.transform=new c({translation:e.transform.translation,rotation:e.transform.rotation}),n.cbs.forEach(function(e){e(n.transform)}))},this)},u.prototype.updateGoal=function(){var e={source_frames:Object.keys(this.frameInfos),target_frame:this.fixedFrame,angular_thres:this.angularThres,trans_thres:this.transThres,rate:this.rate};this.ros.groovyCompatibility?(this.currentGoal&&this.currentGoal.cancel(),this.currentGoal=new s({actionClient:this.actionClient,goalMessage:e}),this.currentGoal.on("feedback",this.processTFArray.bind(this)),this.currentGoal.send()):(e.timeout=this.topicTimeout,e=new o(e),this.serviceClient.callService(e,this.processResponse.bind(this))),this.republisherUpdateRequested=!1},u.prototype.processResponse=function(e){this._isDisposed||(this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB),this.currentTopic=new a({ros:this.ros,name:e.topic_name,messageType:"tf2_web_republisher/TFArray"}),this._subscribeCB=this.processTFArray.bind(this),this.currentTopic.subscribe(this._subscribeCB))},u.prototype.subscribe=function(e,t){"/"===e[0]&&(e=e.substring(1)),this.frameInfos[e]?this.frameInfos[e].transform&&t(this.frameInfos[e].transform):(this.frameInfos[e]={cbs:[]},this.republisherUpdateRequested||(setTimeout(this.updateGoal.bind(this),this.updateDelay),this.republisherUpdateRequested=!0)),this.frameInfos[e].cbs.push(t)},u.prototype.unsubscribe=function(e,t){"/"===e[0]&&(e=e.substring(1));for(var n=this.frameInfos[e],i=n&&n.cbs||[],s=i.length;s--;)i[s]===t&&i.splice(s,1);t&&0!==i.length||delete this.frameInfos[e]},u.prototype.dispose=function(){this._isDisposed=!0,this.actionClient.dispose(),this.currentTopic&&this.currentTopic.unsubscribe(this._subscribeCB)},t.exports=u},{"../actionlib/ActionClient":42,"../actionlib/Goal":44,"../core/Service.js":50,"../core/ServiceRequest.js":51,"../core/Topic.js":54,"../math/Transform":58}],63:[function(e,t,n){var i=e("../core/Ros");e("../mixin")(i,["TFClient"],t.exports={TFClient:e("./TFClient")})},{"../core/Ros":49,"../mixin":61,"./TFClient":62}],64:[function(e,t,n){var i=e("../math/Vector3"),s=e("./UrdfTypes");t.exports=function(e){this.dimension=null,this.type=s.URDF_BOX,e=e.xml.getAttribute("size").split(" "),this.dimension=new i({x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])})}},{"../math/Vector3":59,"./UrdfTypes":73}],65:[function(e,t,n){t.exports=function(e){e=e.xml.getAttribute("rgba").split(" "),this.r=parseFloat(e[0]),this.g=parseFloat(e[1]),this.b=parseFloat(e[2]),this.a=parseFloat(e[3])}},{}],66:[function(e,t,n){var i=e("./UrdfTypes");t.exports=function(e){this.type=i.URDF_CYLINDER,this.length=parseFloat(e.xml.getAttribute("length")),this.radius=parseFloat(e.xml.getAttribute("radius"))}},{"./UrdfTypes":73}],67:[function(e,t,n){var c=e("../math/Pose"),u=e("../math/Vector3"),l=e("../math/Quaternion");t.exports=function(e){this.name=e.xml.getAttribute("name"),this.type=e.xml.getAttribute("type");var t=e.xml.getElementsByTagName("parent");0<t.length&&(this.parent=t[0].getAttribute("link"));var n=e.xml.getElementsByTagName("child");0<n.length&&(this.child=n[0].getAttribute("link"));var i=e.xml.getElementsByTagName("limit");0<i.length&&(this.minval=parseFloat(i[0].getAttribute("lower")),this.maxval=parseFloat(i[0].getAttribute("upper")));var s,r,o,a=e.xml.getElementsByTagName("origin");0===a.length?this.origin=new c:(r=a[0].getAttribute("xyz"),s=new u,r&&(r=r.split(" "),s=new u({x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])})),o=a[0].getAttribute("rpy"),t=new l,o&&(o=o.split(" "),n=parseFloat(o[0])/2,i=parseFloat(o[1])/2,e=parseFloat(o[2])/2,r=Math.sin(n)*Math.cos(i)*Math.cos(e)-Math.cos(n)*Math.sin(i)*Math.sin(e),a=Math.cos(n)*Math.sin(i)*Math.cos(e)+Math.sin(n)*Math.cos(i)*Math.sin(e),o=Math.cos(n)*Math.cos(i)*Math.sin(e)-Math.sin(n)*Math.sin(i)*Math.cos(e),e=Math.cos(n)*Math.cos(i)*Math.cos(e)+Math.sin(n)*Math.sin(i)*Math.sin(e),(t=new l({x:r,y:a,z:o,w:e})).normalize()),this.origin=new c({position:s,orientation:t}))}},{"../math/Pose":56,"../math/Quaternion":57,"../math/Vector3":59}],68:[function(e,t,n){var i=e("./UrdfVisual");t.exports=function(e){this.name=e.xml.getAttribute("name"),this.visuals=[];for(var t=e.xml.getElementsByTagName("visual"),n=0;n<t.length;n++)this.visuals.push(new i({xml:t[n]}))}},{"./UrdfVisual":74}],69:[function(e,t,n){var i=e("./UrdfColor");function s(e){this.textureFilename=null,this.color=null,this.name=e.xml.getAttribute("name");var t=e.xml.getElementsByTagName("texture");0<t.length&&(this.textureFilename=t[0].getAttribute("filename"));e=e.xml.getElementsByTagName("color");0<e.length&&(this.color=new i({xml:e[0]}))}s.prototype.isLink=function(){return null===this.color&&null===this.textureFilename};var r=e("object-assign");s.prototype.assign=function(e){return r(this,e)},t.exports=s},{"./UrdfColor":65,"object-assign":36}],70:[function(e,t,n){var i=e("../math/Vector3"),s=e("./UrdfTypes");t.exports=function(e){this.scale=null,this.type=s.URDF_MESH,this.filename=e.xml.getAttribute("filename"),(e=e.xml.getAttribute("scale"))&&(e=e.split(" "),this.scale=new i({x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])}))}},{"../math/Vector3":59,"./UrdfTypes":73}],71:[function(e,t,n){var u=e("./UrdfMaterial"),l=e("./UrdfLink"),h=e("./UrdfJoint"),f=e("@xmldom/xmldom").DOMParser;t.exports=function(e){var t=(e=e||{}).xml,e=e.string;this.materials={},this.links={},this.joints={},t=(t=e?(new f).parseFromString(e,"text/xml"):t).documentElement,this.name=t.getAttribute("name");for(var n=t.childNodes,i=0;i<n.length;i++){var s=n[i];if("material"===s.tagName){var r=new u({xml:s});void 0!==this.materials[r.name]?this.materials[r.name].isLink()?this.materials[r.name].assign(r):console.warn("Material "+r.name+"is not unique."):this.materials[r.name]=r}else if("link"===s.tagName){var o=new l({xml:s});if(void 0!==this.links[o.name])console.warn("Link "+o.name+" is not unique.");else{for(var a=0;a<o.visuals.length;a++){var c=o.visuals[a].material;null!==c&&c.name&&(void 0!==this.materials[c.name]?o.visuals[a].material=this.materials[c.name]:this.materials[c.name]=c)}this.links[o.name]=o}}else"joint"===s.tagName&&(s=new h({xml:s}),this.joints[s.name]=s)}}},{"./UrdfJoint":67,"./UrdfLink":68,"./UrdfMaterial":69,"@xmldom/xmldom":77}],72:[function(e,t,n){var i=e("./UrdfTypes");t.exports=function(e){this.type=i.URDF_SPHERE,this.radius=parseFloat(e.xml.getAttribute("radius"))}},{"./UrdfTypes":73}],73:[function(e,t,n){t.exports={URDF_SPHERE:0,URDF_BOX:1,URDF_CYLINDER:2,URDF_MESH:3}},{}],74:[function(e,t,n){var p=e("../math/Pose"),d=e("../math/Vector3"),m=e("../math/Quaternion"),y=e("./UrdfCylinder"),v=e("./UrdfBox"),g=e("./UrdfMaterial"),b=e("./UrdfMesh"),_=e("./UrdfSphere");t.exports=function(e){var t=e.xml;this.origin=null,this.geometry=null,this.material=null,this.name=e.xml.getAttribute("name");var n,i,s,r,o,a=t.getElementsByTagName("origin");0===a.length?this.origin=new p:(r=a[0].getAttribute("xyz"),n=new d,r&&(r=r.split(" "),n=new d({x:parseFloat(r[0]),y:parseFloat(r[1]),z:parseFloat(r[2])})),o=a[0].getAttribute("rpy"),c=new m,o&&(o=o.split(" "),i=parseFloat(o[0])/2,s=parseFloat(o[1])/2,e=parseFloat(o[2])/2,r=Math.sin(i)*Math.cos(s)*Math.cos(e)-Math.cos(i)*Math.sin(s)*Math.sin(e),a=Math.cos(i)*Math.sin(s)*Math.cos(e)+Math.sin(i)*Math.cos(s)*Math.sin(e),o=Math.cos(i)*Math.cos(s)*Math.sin(e)-Math.sin(i)*Math.sin(s)*Math.cos(e),e=Math.cos(i)*Math.cos(s)*Math.cos(e)+Math.sin(i)*Math.sin(s)*Math.sin(e),(c=new m({x:r,y:a,z:o,w:e})).normalize()),this.origin=new p({position:n,orientation:c}));var c=t.getElementsByTagName("geometry");if(0<c.length){for(var u=c[0],l=null,h=0;h<u.childNodes.length;h++){var f=u.childNodes[h];if(1===f.nodeType){l=f;break}}c=l.nodeName;"sphere"===c?this.geometry=new _({xml:l}):"box"===c?this.geometry=new v({xml:l}):"cylinder"===c?this.geometry=new y({xml:l}):"mesh"===c?this.geometry=new b({xml:l}):console.warn("Unknown geometry type "+c)}0<(t=t.getElementsByTagName("material")).length&&(this.material=new g({xml:t[0]}))}},{"../math/Pose":56,"../math/Quaternion":57,"../math/Vector3":59,"./UrdfBox":64,"./UrdfCylinder":66,"./UrdfMaterial":69,"./UrdfMesh":70,"./UrdfSphere":72}],75:[function(e,t,n){t.exports=e("object-assign")({UrdfBox:e("./UrdfBox"),UrdfColor:e("./UrdfColor"),UrdfCylinder:e("./UrdfCylinder"),UrdfLink:e("./UrdfLink"),UrdfMaterial:e("./UrdfMaterial"),UrdfMesh:e("./UrdfMesh"),UrdfModel:e("./UrdfModel"),UrdfSphere:e("./UrdfSphere"),UrdfVisual:e("./UrdfVisual")},e("./UrdfTypes"))},{"./UrdfBox":64,"./UrdfColor":65,"./UrdfCylinder":66,"./UrdfLink":68,"./UrdfMaterial":69,"./UrdfMesh":70,"./UrdfModel":71,"./UrdfSphere":72,"./UrdfTypes":73,"./UrdfVisual":74,"object-assign":36}],76:[function(e,t,n){"use strict";var l=Math.pow(2,32),i=!1;function h(){i||(i=!0,console.warn("CBOR 64-bit integer array values may lose precision. No further warnings."))}var o={64:Uint8Array,69:Uint16Array,70:Uint32Array,72:Int8Array,77:Int16Array,78:Int32Array,85:Float32Array,86:Float64Array},a={71:function(e){h();for(var t=e.byteLength,n=e.byteOffset,i=t/8,t=e.buffer.slice(n,n+t),s=new Uint32Array(t),r=new Array(i),o=0;o<i;o++){var a=2*o,c=s[a],a=s[1+a];r[o]=c+l*a}return r},79:function(e){h();for(var t=e.byteLength,n=e.byteOffset,i=t/8,t=e.buffer.slice(n,n+t),s=new Uint32Array(t),r=new Int32Array(t),o=new Array(i),a=0;a<i;a++){var c=2*a,u=s[c],c=r[1+c];o[a]=u+l*c}return o}};void 0!==t&&t.exports&&(t.exports=function(e,t){var n,i,s,r;return t in o?(i=o[t],s=(n=e).byteLength,r=n.byteOffset,new i(n.buffer.slice(r,r+s))):t in a?a[t](e):e})},{}],77:[function(e,t,n){n.DOMImplementation=window.DOMImplementation,n.XMLSerializer=window.XMLSerializer,n.DOMParser=window.DOMParser},{}],78:[function(e,t,n){t.exports="undefined"!=typeof window?window.WebSocket:WebSocket},{}],79:[function(e,t,n){t.exports=function(){return document.createElement("canvas")}},{}],80:[function(e,t,n){"use strict";var a=e("canvas"),i=a.Image||window.Image;t.exports=function(e,r){var o=new i;o.onload=function(){var e=new a,t=e.getContext("2d");e.width=o.width,e.height=o.height,t.imageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.drawImage(o,0,0);for(var n=t.getImageData(0,0,o.width,o.height).data,i="",s=0;s<n.length;s+=4)i+=String.fromCharCode(n[s],n[s+1],n[s+2]);r(JSON.parse(i))},o.src="data:image/png;base64,"+e}},{canvas:79}],81:[function(e,t,n){var i=e("@stomp/stompjs"),{nanoid:a}=e("nanoid");const c=e("axios");var u=e("base-64");function s(e,t){this.user=t.user||"guest",this.password=t.password||"guest",this.serverCommandDestination=t.serverCommandDestination||"/topic/server-command",this.clientCommandDestination=t.clientCommandDestination||"/topic/client-command",this.reconnectDelay=t.reconnectDelay,this.useHistory=!1!==t.useHistory,this.historyLength=t.historyLength||100;t={connectHeaders:{login:this.user,passcode:this.password},brokerURL:e,debug:function(e){console.log("STOMP: "+e)},reconnectDelay:this.reconnectDelay,heartbeatIncoming:t.heartbeatConsumer||0,heartbeatOutgoing:t.heartbeatProducer||0,onConnect:this.handleConnect_.bind(this)};this.stompClient_=new i.Client(t),this.stompClient_.activate()}s.prototype.handleConnect_=function(e){this.onopen(),this.stompClient_.subscribe(this.serverCommandDestination,function(e){this.onmessage(e.body)}.bind(this))},s.prototype.send=async function(t){var e=JSON.parse("string"==typeof t?t:t.data),n=(r="/"===(r=e.topic).at(0)?r.substring(1):r).replace(/\//g,"."),i={};if("subscribe"===e.op){var s={headers:{"Content-Type":"application/json",Authorization:"Basic "+u.encode(this.user+":"+this.password)}},r={type:"topic",auto_delete:!0,durable:!1};this.useHistory&&(r.type="x-recent-history",r.arguments={"x-recent-history-length":this.historyLength});try{var o=await c.put(`http://localhost:15672/api/exchanges/%2F/${n}`,r,s);200<=o.status&&o.status<300&&console.log("New exchange created for topic %s",e.topic)}catch(e){return console.log(e),console.log("Will try to re-send in %s milliseconds",this.reconnectDelay),void setTimeout(this.send.bind(this,t),this.reconnectDelay)}o=a();i.receipt=o,this.stompClient_.watchForReceipt(o,()=>{this.stompClient_.subscribe("/exchange/"+n,function(e){this.onmessage(e.body)}.bind(this),{id:n})})}"unsubscribe"===e.op&&this.stompClient_.unsubscribe(n);o=this.clientCommandDestination;"publish"===e.op&&(o="/exchange/"+n),this.stompClient_.publish({destination:o,body:t,headers:i})},s.prototype.close=function(){this.stompClient_.deactivate()},t.exports=s},{"@stomp/stompjs":1,axios:2,"base-64":31,nanoid:34}],82:[function(e,t,n){var i=e("webworkify"),s=e("./workerSocketImpl");function r(e){this.socket_=i(s),this.socket_.addEventListener("message",this.handleWorkerMessage_.bind(this)),this.socket_.postMessage({uri:e})}r.prototype.handleWorkerMessage_=function(e){var t=e.data;if(t instanceof ArrayBuffer||"string"==typeof t)this.onmessage(e);else{t=t.type;if("close"===t)this.onclose(null);else if("open"===t)this.onopen(null);else{if("error"!==t)throw"Unknown message from workersocket";this.onerror(null)}}},r.prototype.send=function(e){this.socket_.postMessage(e)},r.prototype.close=function(){this.socket_.postMessage({close:!0})},t.exports=r},{"./workerSocketImpl":83,webworkify:39}],83:[function(e,t,n){var r=r||e("ws");t.exports=function(t){var n=null;function i(e){e=e.data;e instanceof ArrayBuffer?t.postMessage(e,[e]):t.postMessage(e)}function s(e){t.postMessage({type:e.type})}t.addEventListener("message",function(e){e=e.data;if("string"==typeof e)n.send(e);else if(e.hasOwnProperty("close"))n.close(),n=null;else{if(!e.hasOwnProperty("uri"))throw"Unknown message to WorkerSocket";e=e.uri;(n=new r(e)).binaryType="arraybuffer",n.onmessage=i,n.onclose=s,n.onopen=s,n.onerror=s}})}},{ws:78}]},{},[41]);